<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Haikyu Fly High - Team Builder (Credits: goN6 on discord)</title>
<style>
    body {
        background-color: #222;
        color: #fff;
        font-family: Arial, sans-serif;
        text-align: center;
    }

    h1 {
        margin-top: 20px;
    }

    .team-grid {
        display: flex;
        flex-direction: column;
        gap: 20px;
        align-items: center;
        margin-top: 30px;
    }

    .row {
        display: flex;
        gap: 20px;
    }

    .top-row {
        transform: translateX(6px);
    }

    .player-slot {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .hex {
        position: relative;
        width: 150px;
        height: 210px;
        background-color: #444;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background 0.3s;
        overflow: hidden;
    }

    .hex:hover {
        background-color: #555;
    }

    .hex img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .player-info {
        margin-top: 5px;
        font-size: 14px;
        color: #fff;
        text-align: center;
        max-width: 150px;
        word-wrap: break-word;
    }

    .bench-slot {
        width: 50px;
        height: 67px;
        background-color: #444;
        border-radius: 5px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        overflow: hidden;
    }

    .bench-slot img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .add-slot-btn {
        background-color: #28a745;
        border: none;
        color: white;
        padding: 5px 10px;
        margin-left: 10px;
        cursor: pointer;
        border-radius: 5px;
    }

    .add-slot-btn:hover {
        background-color: #218838;
    }

    #saveTeamBtn {
        background-color: #28a745;
        border: none;
        color: white;
        padding: 6px 10px;
        margin-right: 10px;
        cursor: pointer;
        border-radius: 5px;
        font-size: 16px;
        vertical-align: middle;
    }

    #saveTeamBtn:hover {
        background-color: #218838;
    } 
    
    

    #synergy-panel {
        margin-top: 50px;
        background-color: #333;
        padding: 15px;
        border-radius: 10px;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
        text-align: left;
    }

    .scroll-menu {
        display: none;
        margin-top: 10px;
        max-height: 200px;
        overflow-y: auto;
        background-color: #333;
        padding: 10px;
        border-radius: 8px;
        flex-wrap: wrap;
    }

    .scroll-menu img {
        width: 80px;
        height: auto;
        cursor: grab;
        margin: 5px;
        border: 2px solid transparent;
    }

    .scroll-menu img:hover {
        border: 2px solid yellow;
    }

    /* Painel lateral */
    .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        background-color: #333;
        overflow-x: hidden;
        transition: transform 0.3s ease, opacity 0.3s ease;
        transform: translateX(-100%);
        padding: 20px;
        box-shadow: 2px 0 5px rgba(0,0,0,0.5);
        z-index: 999;
        opacity: 0;
        pointer-events: none;
        display: flex;
        flex-direction: column;
    }

    .sidebar.open {
        transform: translateX(0);
        opacity: 1;
        pointer-events: auto;
    }

    .sidebar h2 {
        color: #fff;
        margin-bottom: 20px;
    }

    .sidebar button.close-btn {
        background: none;
        border: none;
        color: #fff;
        font-size: 20px;
        cursor: pointer;
        position: absolute;
        top: 15px;
        right: 15px;
    }

    #menuBtn {
        position: fixed;
        top: 15px;
        left: 15px;
        background-color: #28a745;
        color: white;
        border: none;
        padding: 10px 15px;
        font-size: 18px;
        cursor: pointer;
        border-radius: 5px;
        z-index: 1000;
    }

    #menuBtn:hover {
        background-color: #218838;
    }

    /* Lista de personagens no menu */
    .char-list {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }

    .char-card {
        width: 80px;
        text-align: center;
        cursor: pointer;
    }

    .char-card img {
        width: 100%;
        border-radius: 5px;
    }

    /* Conteúdo do menu com rolagem */
    #sidebar {
    scroll-behavior: smooth;    
    position: fixed;
    right: 0;
    top: 0;
    width: 300px; /* ajuste conforme seu layout */
    height: 100vh; /* ocupa a tela inteira */
    background-color: #222;
    color: white;
    overflow-y: auto; /* ativa rolagem vertical */
    padding: 10px;
    box-sizing: border-box;

        
    /* Oculta a barra no Chrome, Edge, Safari */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE e Edge antigos */
}
    #sidebar::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Edge */
}

    .filtros {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 10px;
    }

    .filtros label {
        font-size: 14px;
        font-weight: bold;
        margin-bottom: 3px;
        display:block;
        text-align:left;
    }

    .filtros select {
        width: 100%;
        padding: 5px;
        font-size: 14px;
        border-radius: 5px;
        border: none;
    }

    #limparFiltros {
        background-color: #ff4d4d;
        color: white;
        border: none;
        padding: 6px;
        font-size: 14px;
        border-radius: 5px;
        cursor: pointer;
        width:100%;
    }

    #limparFiltros:hover {
        background-color: #e60000;
    }

    .saved-list button {
        margin-left: 8px;
        padding: 4px 8px;
        font-size: 13px;
        border-radius: 4px;
        cursor: pointer;
        border: none;
    }
    .saved-list .load-btn { background:#28a745; color:#fff; }
    .saved-list .del-btn { background:#ff4d4d; color:#fff; }

    .bond-btn {
    background-color: #444;
    color: white;
    border: 1px solid #666;
    border-radius: 6px;
    padding: 4px 8px;
    font-size: 14px;
    cursor: pointer;
    transition: background-color 0.2s, transform 0.2s;
}

.bond-btn:hover {
    background-color: #666;
    transform: scale(1.05);
}

.bond-btn:active {
    background-color: #888;
    transform: scale(0.98);
}
    .skill-btn {
    background-color: #555;
    color: white;
    border: 1px solid #777;
    border-radius: 6px;
    padding: 4px 8px;
    font-size: 14px;
    cursor: pointer;
    transition: background-color 0.2s, transform 0.2s;
}

.skill-btn:hover {
    background-color: #777;
    transform: scale(1.05);
}

.skill-btn:active {
    background-color: #999;
    transform: scale(0.98);
}
    .char-info {
    text-align: center;
    margin-top: 4px;
}

.char-name {
    font-weight: bold;
    font-size: 14px;
    color: #fff;
    margin: 0;
}

.char-status {
    font-size: 12px;
    color: #ccc;
    margin: 0;
}

.char-status span {
    font-weight: bold;
    color: #ffcc00; /* cor destaque do valor */
}
    #scrollMenu {
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE e Edge antigos */
}

#scrollMenu::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Edge */
}
    #scrollMenu {
    overflow-y: auto; /* já está, mas reforçando */
}
#sidebar-content ul {
    list-style: none;       /* remove bullets */
    padding-left: 0;        /* remove recuo padrão */
    margin-left: 0;         /* evita deslocamento */
    text-align: center;     /* centraliza texto */
}

#sidebar-content li {
    margin-bottom: 4px;     /* espaço entre linhas */
}
    .filtros {
    background-color: #333;
    padding: 12px;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.filtros label {
    font-size: 13px;
    font-weight: bold;
    margin-bottom: 4px;
}

.filtros select {
    width: 100%;
    padding: 6px;
    border: 1px solid #555;
    border-radius: 6px;
    background-color: #222;
    color: white;
}

#limparFiltros {
    background-color: #ff4d4d;
    border: none;
    padding: 8px;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
}

#limparFiltros:hover {
    background-color: #e60000;
}
    /* Remove bolinhas e aplica espaçamento no menu lateral */
#sidebar-content ul,
#sidebar-content li {
    list-style: none !important;  /* força remover bullets */
    padding-left: 0 !important;
    margin-left: 0 !important;
}

#sidebar-content ul {
    display: flex;
    flex-direction: column;
    gap: 10px; /* mesmo espaçamento da aba Ajuda */
}
    .sidebar > ul {
    list-style: none;      /* remove bullets */
    padding: 0;            /* elimina recuo padrão */
    margin: 0 0 16px 0;    /* margem inferior opcional */
    display: flex;         /* empilha verticalmente */
    flex-direction: column;
    gap: 10px;             /* espaçamento entre os itens */
}

.sidebar > ul > li {
    margin: 0;             /* garante que não tenha margens extras */
}
    .person-symbols {
    display: flex;
    justify-content: center;
    gap: 6px;
    margin-top: 6px;
}

.symbol-icon {
    width: 40px;
    height: 40px;
    object-fit: contain;
}
    .card-sub{
  font-size: 12px;
  opacity: 0.85;
  margin-top: 2px;
}
   
/* GRID responsivo do contêiner */
#charList{
  display: grid !important;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 14px;
  padding: 0;          /* remove recuo de UL */
  margin: 0;           /* remove margens de UL */
  list-style: none;    /* remove bullets */
}

/* Card */
#charList .person-card{
  display: flex;
  flex-direction: column;
  width: auto !important;   /* evita width:100% herdado */
  max-width: 100%;
  background: transparent;  /* ajuste se quiser */
  border-radius: 10px;
  padding: 8px;
  cursor: pointer;
}

#charList .person-card img{ width:100%; display:block; border-radius:8px; }
#charList .card-name{ margin-top:6px; font-weight:600; text-align:center; }
#charList .card-sub{ font-size:12px; opacity:.85; margin-top:2px; text-align:center; }
    
</style>
</head>
<body>

<button id="menuBtn">☰</button>
<div class="sidebar" id="sidebar">
    <button class="close-btn" id="closeSidebar">×</button>
    <h2>Menu Lateral</h2>
    <ul>
        <!-- substituí Estatísticas por Save/Load -->
        <li><button class="menu-link bond-btn" data-section="save">💾 Salvar/Carregar Times</button></li>
        <li><button class="menu-link bond-btn" data-section="characters">🔍 Personagens</button></li>
        <li><button class="menu-link bond-btn" data-section="help">ℹ️ Ajuda</button></li>
    </ul>
    <div id="sidebar-content">
        <p>Selecione uma opção acima.</p>
    </div>
</div>

<h1>Haikyu Fly High - Team Builder (Credits: goN6 on discord)</h1>

<div class="team-grid">
    <div class="row top-row">
        <div class="player-slot"><div class="hex" data-role="S"></div><div class="player-info">S</div></div>
        <div class="player-slot"><div class="hex" data-role="MB"></div><div class="player-info">MB</div></div>
        <div class="player-slot"><div class="hex" data-role="WS"></div><div class="player-info">WS</div></div>
    </div>
    <div class="row">
        <div class="player-slot"><div class="hex" data-role="L"></div><div class="player-info">L</div></div>
        <div class="player-slot"><div class="hex" data-role="WS"></div><div class="player-info">WS</div></div>
        <div class="player-slot"><div class="hex" data-role="MB"></div><div class="player-info">MB</div></div>
        <div class="player-slot"><div class="hex" data-role="OP"></div><div class="player-info">OP</div></div>
    </div>

    <!-- linha onde fica o botão SALVAR e os bench slots -->
    <div class="row" id="bench-row-wrapper" style="align-items:center;">
        <div style="display:flex; align-items:center;">
    <button id="saveTeamBtn" title="Salvar Time" style="background-color:#222222;margin-right:8px;">⬇️</button>
    <button id="clearTeamBtn" title="Limpar Time" style="background-color:#222222; color:white; padding:6px 10px; border:none; border-radius:5px; font-size:16px; cursor:pointer;">🗑️</button>
</div>

        <div class="row" id="bench-row" style="gap:10px;">
            <div class="player-slot bench"><div class="bench-slot" data-role="bench"></div><div class="player-info">Bench</div></div>
            <div class="player-slot bench"><div class="bench-slot" data-role="bench"></div><div class="player-info">Bench</div></div>
            <div class="player-slot bench"><div class="bench-slot" data-role="bench"></div><div class="player-info">Bench</div></div>
            <button class="add-slot-btn" onclick="addBenchSlot()">+</button>
        </div>
    </div>
</div>

<div class="scroll-menu" id="scrollMenu"></div>

<div id="synergy-panel">
    <h2>Synergies</h2>
    <ul id="synergy-list"><li>Only Deployment Synergies are displayed.Synergies will only work when players are in court inside the game.</li></ul>
</div>

<script>
/* ====== DADOS (mantidos) ====== */
const personagens = [
/* ==missing stats== */{ nome: "Kageyama UR",data: "01/12/26", funcao: "S", img: "img/kageyamaUR.png", School: "Karasuno", vinculo: ["Eccentric Duo", "Karasuno Geniuses"], status:{Serve:1,Spike:1,Set:1,Receive:1,Block:1,Save:1}, habilidades:[{nome:"Genius Setter",descricao:"Kageyama Tobio sets with a power of [Set] x 120/135/150%. When he sets, the [Quick Attack] of the member who spikes is increased by his [Set] x 15%. This effect lasts until the ball goes over the net."},{nome:"Murder Serve",descricao:"Kageyama Tobio performs a powerful jump serve with a power of 130/145/160% of his [Serve]. If this play is a perfect serve, his teammates’ [Attack Technique] is increased by 10%. This effect lasts until the ball has crossed the net 6 times."},{nome:"Silent King",descricao:"Increases Kageyama Tobio’s [Attack Technique] by 8/10/12%. When he is on the court and the opponent’s Serve, Quick Attack, or Spike is a nice play, he gains 1 stack of the [Competitive Spirit] effect. Up to 5 stacks. When he is on the court and an ally Serves, Quick Attacks, or Spikes, 1 stack of [Competitive Spirit] effect is consumed, and the [Awareness] of the member performing the Serve, Quick Attack, or Spike is increased by 20/25/30%. This effect lasts until the ball goes over the net twice. At the start of a rally, he will gain one stack of the [Competitive Spirit] effect."},{nome:"Dominate the Game",descricao:"Kageyama Tobio performs a Quick Attack with a power equal to 240/255/270/285/300% of the set. The Quick Attack cannot be blocked. The cooldown of the opponent’s frontline block skill during the cooldown increases by 4 times the number of times the ball goes over the net."}], symbols: [ "img/quicksymbol.png", "img/servesymbol.png", "img/settersymbol.png" ] },
{ nome: "Kageyama SSR", funcao: "S", img: "img/kageyamaSR.png", School: "Karasuno", vinculo: [],status:{Serve:1314,Spike:1246,Set:1378,Receive:1115,Block:1246,Save:1047},habilidades:[{nome:"Manipulate the Moment",descricao:"When Hinata Shoyo (Flower Viewing) is on the court, the [Defensive Technique] of all front line players is increased by 10/13/16%. When Hinata Shoyo makes a nice play, his [Offensive Technique] is increased by 3/3.5/4%. Up to 4 stacks."},{nome:"Stepping Stone",descricao:"Hinata Shoyo (Flower Viewing) receives a ball with 140/160/180% of his receive stat, and allies’ base stats increase by 12%. This effect for 6 net crossings."},{nome:"Counterattack",descricao:"When Hinata Shoyo (Flower Viewing) is in the back row, the [Defensive Technique] of allied back row players is increased by 10/13/16%. When Hinata Shoyo (Flower Viewing) is on the court and the team’s receive result is not BAD, his [Quick Attack] stat is increased by 12/16/20% for the next two net crossings. If the teammate’s receive is a PERFECT play, Hinata Shoyo’s (Flower Viewing) quick attack after this play occurs is increased by 100%."},{nome:"Jump High",descricao:"Hinata Shoyo (Flower Viewing) performs a quick attack with 260/275/290% of [Quick Attack] as power. If this play is a nice play, the power increases by an additional [Quick Attack] x 40/45/50%."}], symbols: [ "img/quicksymbol.png", "img/servesymbol.png", "img/settersymbol.png" ] },
{ nome: "Hinata SP",data: "01/27/26", funcao: "MB", img: "img/hinataSP.png", School: "Karasuno", vinculo: ["Eccentric Duo", "Cherry Blossom Viewing" , "Sun vs Moon"],status: { Serve:1500, Spike:1950, Set:1500, Receive:1700, Block:1500, Save:1500 },habilidades:[{nome:"Manipulate the Moment",descricao:"When Hinata Shoyo (Hanami) is on the court, the [Defensive Technique] of all front line players is increased by 10/13/16%. When Hinata Shoyo's play result is Perfect, his [Offensive Technique] is increased by 3/3.5/4% with a maximum of 4 stacks."},{nome:"A Foot Hold (such a sick reference to his receive)",descricao:"Hinata Shoyo (Hanami) receives a ball with 140/160/180% of [Receive] as power, and your team's base stats increase by 12%. This effect for 6 net crossings."},{nome:"Counterattack",descricao:"When Hinata Shoyo (Hanami) is in the back row, the [Defensive Technique] of allied back row players is increased by 10/13/16%. When Hinata Shoyo (Hanami) is on the court and the team's receive result is not BAD, his [Quick Attack] stat is increased by 12/16/20% for the next two net crossings. If the teammate's receive is a PERFECT play, Hinata Shoyo's (Hanami) quick attack after this play occurs is increased by 100%."},{nome:"High Jump",descricao:"Hinata Shoyo (Hanami) performs a quick attack with 260/275/290% of [Quick Attack] as power. If this play is Perfect, the power increases by an additional 40/45/50% of [Quick Attack]."}], symbols: [ "img/quicksymbol.png", "img/receivesymbol.png" ] },
{ nome: "Hinata SSR", funcao: "MB", img: "img/hinataSR.png", School: "Karasuno", vinculo: ["Eccentric Duo"],status:{Serve:1173,Spike:1383,Set:1118,Receive:1195,Block:1250,Save:1253},habilidades:[{nome: "THE GREATEST DECOY", descricao:"While SHOYO HINATA is present, increases Power/Quick Attack stat of players on your side by 7%"}, {nome: "QUICK DUO", descricao:"When SHOYO HINATA performs a Quick Spike and the setter is a Quick Attack-type player, increases this spike's power by 15% of that setter's Quick Attack stat."}, {nome: "ON THE BALL", descricao:"Increases SHOYO HINATA's Awareness by 6%. When HINATA lands a Critical hit, additionally increases Awareness by 4%, stacking up to 1 times."}, {nome: "SOARING TEEN", descricao:"SHOYO HINATA performs a Quick Spike with 235% of his Quick Attack stat as power. If this spike is a Critical hit, increases its power by an additional 20% of his Quick Attack stat."}], symbols: [ "img/quicksymbol.png" ] },
/* ==missing stats== */{ nome: "Nishinoya SP",data: "03/13/26", funcao: "L", img: "img/nishinoyaSP.png", School: "Karasuno", vinculo: ["Karasuno Geniuses", "After School"],status:{Serve:1,Spike:1,Set:1,Receive:1,Block:1,Save:1},habilidades:[{nome:"World-Class Acceleration",descricao:"Nishinoya Yu (After School)'s [Reflex] is increased by 10%/13%/16%. When an opposing team member makes a Perfect play, Nishinoya Yu (After School)'s [Reflex] is increased by 1.5%. Stacks up to 10 times. This effect lasts until the ball goes over the net 6 times."},{nome:"A-Pass",descricao:"Nishinoya Yu (After School) sets the ball with 140%/160%/180% of [Set] as power. Nishinoya Yu (After School)'s [Attention] increases by 100% of [Reflex] as power. This effect lasts for two net crossings."},{nome:"Save the Team in Crisis",descricao:"Nishinoya Yu (After School)'s [Spirit] is increased by 20%/25%/30%. When an ally makes a perfect play, the cooldown of Foot Receive is reduced by one time the ball goes over the net."},{nome:"Foot Receive",descricao:"Nishinoya Yu (After School) performs a receive with 260%/275%/290% of [Receive] as power. Nishinoya Yu (After School)'s [Receive] is increased by 20%. This effect lasts for two net crossings."}], symbols: [ "img/receivesymbol.png", "img/settersymbol.png" ] },
{ nome: "Nishinoya SSR", funcao: "L", img: "img/nishinoyaSR.png", School: "Karasuno", vinculo: ["Guardian God and Wing Spiker" , "Kiyoko Squad"],status: { Serve:1131, Spike:1131, Set:1254, Receive:1389, Block:1098, Save:1327 },habilidades:[{nome: "GUARDIAN DEITY", descricao:"When YU NISHINOYA's Save result is not BAD, increases the power of the next Power Spike skill used by your Power-type player by 15% of his Power Attack stat"}, {nome: "LIBERO SUPREME", descricao:"YU NISHINOYA performs a Save with 120% of Save stat as power"}, {nome: "INSPIRE MORALE", descricao:"When YU NISHINOYA enters the court, increases your Team Morale by 18"}, {nome: "ROLLING THUNDER", descricao:"YU NISHINOYA consumes 20 additional Stamina to perform a Receive with 220% of Receive stat power; if the Receive result is not BAD, reduces the cooldown of your side's next Power Spike skill by 6 net crossings"}], symbols: [ "img/receivesymbol.png" ] },
{ nome: "Tanaka SSR", funcao: "WS", img: "img/tanakaSR.png", School: "Karasuno", vinculo: ["Kiyoko Squad"],status: { Serve:1190, Spike:1385, Set:1120, Receive:1316, Block:1248, Save:1129 }, habilidades:[{nome: "THE ACE ARRIVES", descricao:"Increases the power of RYUNOSUKE TANAKA's 1st Power Spike in each match by 25% of Power Attack stat"}, {nome: "TENACIOUS SPIRIT", descricao:"RYUNOSUKE TANAKA performs a Receive with 115% of Receive stat as power; for this Receive, TANAKA's Reflex increases by 10%"}, {nome: "BURNING PASSION", descricao:"Increases RYUNOSUKE TANAKA's Power Spike power by 10% of Power Attack stat; his Power Spike reduces opponent's blocking and receiving players' Stamina by 5"}, {nome: "SUPER INNER CROSS", descricao:"RYUNOSUKE TANAKA consumes 5 extra Stamina to perform a Short Diagonal Spike with 250% of Power Attack stat as power; when this is TANAKA's first spike in this set, increases spike power by an additional 30% of TANAKA's Power Attack stat"}], symbols: [ "img/powersymbol.png" ] },
/* ==missing stats== */{ nome: "Tsuki SP", funcao: "MB", img: "img/tsukiSP.png", School: "Karasuno", vinculo: ["Sun vs Moon"],status:{Serve:1,Spike:1,Set:1,Receive:1,Block:1,Save:1}, habilidades:[{nome:"Great Brain",descricao:"When a member on the opponent's court is under an unfavorable effect, Tsukishima Kei (Fireworks Festival)'s [Awareness] and [Reaction] are increased by 15%/20%/25%, and allied members' [Offensive Technique] and [Defensive Technique] are increased by 10%. This effect lasts for 1 rally. When an ally activates a block skill, Tsukishima Kei's (Fireworks Festival) [Quick Attack] is increased by 3%. Up to 10 stacks. When an ally's quick attack skill is activated, Tsukishima Kei's (Fireworks Festival) [Block] is increased by 3%. Up to 10 stacks."},{nome:"Block is a System",descricao:"Tsukishima Kei (Fireworks Festival) Blocks with the power of [Lock] x 300%/325%/350%. Increases the [Reflex] of allied rear guards by 10% and [Spirit] by 20%. This effect lasts until the ball crosses the net twice."},{nome:"Calmly Watch the Battle Situation",descricao:"At the start of the match, if Tsukishima Kei (Fireworks Festival)'s [Attack Technique] is equal to or greater than [Defensive Technique], he gains the [Attack I/II/III] effect. If [Defensive Technique] is greater than [Attack Technique], he gains the [Defensive I/II/III] effect. If you have the [Attack I/II/III] effect, the cooldown of 'Block is a System' is reduced by 4 times the number of times the ball has gone over the net. The power of 'Block is a System' is reduced by [Block] x 100%/80%/60%. [Quick Attack] is reduced by 20/30/40."},{nome:"Spikes that make use of his height",descricao:"Tsukishima Kei (Fireworks Festival) performs a quick attack with a power of [Quick Attack] x 260%/280%/300%/320%/340%. If a member on the opponent's court has an adverse effect, the power of this quick attack increases by [Quick Attack] x 60%."}], symbols: [ "img/quicksymbol.png", "img/blocksymbol.png" ] },
{ nome: "Tsuki SSR", funcao: "MB", img: "img/tsukiSR.png", School: "Karasuno", vinculo: [],status: { Serve:1210, Spike:1314, Set:1153, Receive:1173, Block:1389, Save:1102 }, habilidades:[{nome: "KARASUNO'S COMPOSURE", descricao:"While KEI TSUKISHIMA is on the court, increases the Strength of your Quick Attack-type players by 10%"}, {nome: "TACTICAL QUICK ATTACK", descricao:"KEI TSUKISHIMA performs a Quick Spike with 115% of his Quick Attack stat. The next time a teammate casts a Spike skill, their Awareness is increased by 5%"}, {nome: "MOONRISE", descricao:"While KEI TSUKISHIMA is present, increases Block power of your side's front row players by 8% of their Block stat"}, {nome: "KEI'S RETORT", descricao:"KEI TSUKISHIMA performs a Block with 195% of his Block stat as power. Applies the \"Enrage\" debuff to the opposing spiker (reducing their Power/Quick Attack stats by 10%)"}], symbols: [ "img/quicksymbol.png", "img/blocksymbol.png" ] },
{ nome: "Daichi SSR", funcao: "OP", img: "img/daichiSR.png", School: "Karasuno", vinculo: [],status: { Serve:1182, Spike:1250, Set:1123, Receive:1385, Block:1248, Save:1191 }, habilidades:[{nome: "STEADY RECEPTION", descricao:"When DAICHI SAWAMURA performs a Receive, restores 3 Stamina to the teammate with the lowest Stamina."}, {nome: "SLEDGEHAMMER SPIKE", descricao:"DAICHI SAWAMURA performs a Power Spike with 120% of his Power Attack stat."}, {nome: "TEAM BACKBONE", descricao:"While DAICHI SAWAMURA is present, increases receive power of your side's back row players by 10% of their Receive stat"}, {nome: "RELIABLE DEFENSE", descricao:"DAICHI SAWAMURA performs a Receive with 220% of his Receive stat. If your side's next Spike is a Power Spike, increases that spike's power by 15% of the spiker's Power Attack stat."}], symbols: [ "img/receivesymbol.png" ] },
{ nome: "Azumane SSR", funcao: "WS", img: "img/azumaneSR.png", School: "Karasuno", vinculo: ["Guardian God and Wing Spiker"],status: { Serve:1322, Spike:1387, Set:1118, Receive:1254, Block:1190, Save:1122 }, habilidades:[{nome: "PROFICIENT DEFENSE", descricao:"ASAHI AZUMANE performs a Receive with 120% of Receive stat as power"}, {nome: "BULLET SERVE", descricao:"ASAHI AZUMANE performs a Jump Serve with 120% of Serve stat as power"}, {nome: "ACE'S AURA", descricao:"When ASAHI AZUMANE's Stamina is above 70, increases his Power Spike's power by 15% of Power Attack stat"}, {nome: "CHARGED SPIKE", descricao:"ASAHI AZUMANE consumes 30 additional Stamina to perform a Power Spike with 235% of Power Attack stat as power, receives 1 stacks of \"Power Charge\"; when casting [CHARGED SPIKE] skill, each stack of \"Power Charge\" increases Power Spike power by 50% of Power Attack stat"}], symbols: [ "img/powersymbol.png", "img/servesymbol.png" ] },
/* ==missing stats== */{ nome: "Sugawara SP",data: "04/12/26", funcao: "S", img: "img/sugawaraSP.png", School: "Karasuno", vinculo: ["After School"],status:{Serve:1,Spike:1,Set:1,Receive:1,Block:1,Save:1},habilidades:[{nome:"Support the Attack",descricao:"When Sugawara Koshi (After School) is on the court and a frontline ally activates a block skill, the blocking member's [Block] is increased by 5%/6.25%/7.5% × the total value of the other frontline ally's [Block]. A maximum increase of 1000/1250/1500 is possible. This effect lasts until the ball goes over the net twice. When Sugawara Koshi (After School) is on the court and a backline ally receives the ball, the receiving member's [Receive] is increased by 5%/6.25%/7.5% × the total value of the other backline ally's [Receive]. A maximum increase of 1000/1250/1500 is possible. This effect lasts until the ball goes over the net twice."},{nome:"A skillful serve that exploit weaknesses",descricao:"Sugawara Koushi (After School) Serves with power equal to [Serve] × 140%/160%/180%. Increases team morale by 10. Increases main stats of allied members by 12%/14%/16%. This effect lasts for 1 rally."},{nome:"Careful setup",descricao:"Sugawara Koushi (After School) Increases stamina by 13%/16%/20%. When Sugawara Koushi (After School) first participates, allied members will consume 50% of their current stamina, and for every 6 stamina consumed, allied members' main parameters will increase by 1%/1.3%/1.6%. After Sugawara Koushi (After School)'s first participation, allied members' stamina will recover 15 at the end of each rally. This effect lasts for 4 rallies."},{nome:"Sign Play",descricao:"Sugawara Koushi (After School) consumes an additional 15 stamina and performs a set with 60% ([Set] × 2) / 80% ([Set] × 2) / 300% / 20% ([Set] × 3) / 40% power ([Set] × 3). The first member to spike (Power Attack/Quick Attack) after this play increases the [Attack Technique] by 2.0%. This effect lasts until the ball goes over the net twice."}] , symbols: [ "img/blocksymbol.png", "img/servesymbol.png", "img/settersymbol.png" ] },
{ nome: "Kenma SP",data: "02/26/26", funcao: "S", img: "img/kenmaSP.png", School: "Nekoma", vinculo: ["Cherry Blossom Viewing"],status:{Serve:1580,Spike:1700,Set:1920,Receive:1800,Block:1670,Save:1670}, habilidades:[{nome:"Leadership",descricao:"When Kozume Kenma (Hanami) is on the court, allied members' [Reflex] is increased by 10/13/16%. When he is on the court and an allied member receives or covers, he gains one stack of the [Defense that Eliminates Openings] effect, allied members' [Reflex] is increased by 1.5%. Up to 10 stacks. If the results of an allied member's receive or cover is not BAD, he gains one more stack of the [Defense that Eliminates Openings] effect."},{nome:"Set With No Wasted Movement",descricao:"Kozume Kenma (Hanami) performs a set with 140/160/180% of [Set] as power. If the player who attacks (Power Attack/Quick Attack) after this play occurs is in the back row, the power of the attack will be increased by 20%."},{nome:"Look For Flaws",descricao:"When Kozume Kenma (Hanami) performs a Set or Setter Dump, his [Awareness] increases by 40/60/80% of [Reflex] as power. If he is on the court and his teammate's block result is not BAD, the power of the opponent's current spike (Power Attack/Quick Attack) is increased by the corresponding member's [Power Attack/Quick Attack] by 10/13/16%."},{nome:"Play That Confuses The Opponent",descricao:"Kozume Kenma (Hanami) performs a Setter Dump with 255/270/285/300/315% of [Set] as power. Setter Dump cannot be blocked. After this play occurs, the first time an opposing player spikes (Power Attack/Quick Attack), the [Power] of that player is reduced by 40%. This effect lasts for 2 net crossings."}], symbols: [ "img/receivesymbol.png", "img/settersymbol.png" ] },
{ nome: "Kenma SSR", funcao: "S", img: "img/kenmaSR.png", School: "Nekoma", vinculo: ["Brain and Commander"],status:{Serve:1182,Spike:1387,Set:1387,Receive:1122,Block:1303,Save:1060}, habilidades:[{nome:"DIVINE VISION", descricao:"While KENMA KOZUME is on the court, increases your side's players' Receive power by 8% of their Receive stat. When Kozume's Set or your side's Receive results in PERFECT, gain 1 stack(s) of 'Keep It Alive'. Each stack increases Receive power of your side's players by 3%, up to 6 stacks."}, {nome:"STEADY SETTING", descricao:"KENMA KOZUME performs a Set with 120% of his Set stat."}, {nome:"THE BRAIN", descricao:"While KENMA KOZUME is on the court, increases your side's players' Receive power by 6% of their Receive stat. If 'Keep It Alive' exceeds 5 stacks, additionally increases their Receive power by 150% and Save power by 150%. When your side's Receive or Save fails, consumes 6 stacks of 'Keep It Alive' to convert the result to PERFECT."}, {nome:"DECEPTIVE DUMP", descricao:"KENMA KOZUME performs an unblockable Setter Dump with 220% of his Set stat."}], symbols: [ "img/receivesymbol.png", "img/settersymbol.png" ] },
{ nome: "Yaku SSR", funcao: "L", img: "img/yakuSR.png", School: "Nekoma", vinculo: ["Educational Guidance"],status:{Serve:1131,Spike:1131,Set:1253,Receive:1391,Block:1098,Save:1323}, habilidades:[{nome:"Key To Defense",descricao:"When Morisuke Yaku is on the court and a teammate's receiving result is not BAD, Morisuke Yaku's [Receive] and [Save] are increased by 3/4/5% with a maximum of 5 stacks."},{nome:"Reliable Defense",descricao:"When Morisuke Yaku is on the court, the Quick Attack of your Quick Attack Specialist on the court is increased by 8/10/12% of that player's [Quick Attack] stat as power."},{nome:"Super Libero",descricao:"Morisuke Yaku's [Receive] is increased by 11/13/15%. If the result is NORMAL, it changes to PERFECT."},{nome:"Perfect Receive",descricao:"Morisuke Yaku performs a Receive with 240/255/270/285/300% of [Receive] as power."}], symbols: [ "img/quicksymbol.png", "img/receivesymbol.png" ] },
{ nome: "Kuro SSR", funcao: "MB", img: "img/kuroSR.png", School: "Nekoma", vinculo: [],status:{Serve:1221,Spike:1318,Set:1149,Receive:1186,Block:1389,Save:1123}, habilidades:[{nome:"EXPERT'S AURA", descricao:"While TETSURO KUROO (Practice) is present, increases Strength of Quick Attack-type players on your side by 16%"}, {nome:"STEADY OFFENSE", descricao:"TETSURO KUROO (Practice) performs a Quick Spike with 125% of Quick Attack stat as power, receives 1 stacks of 'Power Charge'; when casting [Steady Offense] skill, each stack of 'Power Charge' increases spike power by 15% of Quick Attack stat, up to 2 stacks"}, {nome:"BLOCK CONTROL TOWER", descricao:"While TETSURO KUROO (Practice) is present, increases Block stat of players on your side by 8%"}, {nome:"LOCKDOWN", descricao:"TETSURO KUROO (Practice) performs a Block with 170% of Block stat as power; when other front row Block-type players are present, increases this block's power by 15% of Block stat"}], symbols: [ "img/blocksymbol.png", "img/quicksymbol.png" ] },
{ nome: "Kuro UR", funcao: "MB", img: "img/kuroUR.png", School: "Nekoma", vinculo: ["Brain and Commander"],status:{Serve:1380,Spike:1489,Set:1296,Receive:1339,Block:1570,Save:1268}, habilidades:[{nome:"All Rounder",descricao:"Increases Tetsuro Kuroo's [Quick Attack] by 10/12/14%. When he is on the court, his [Block] and [Quick Attack] increase by 5% each time the ball goes over the net. Stacks up to 5 times."},{nome:"A Quick",descricao:"Tetsuro Kuroo performs a quick attack with a power of [Quick Attack] × 125% and gains 1 stack of the [Charge] effect. When A Quick is activated, the power of the quick attack increases by [Quick Attack] × 5% for each [Charge] stack. Up to 3 stacks."},{nome:"Leadership",descricao:"Increases Tetsuro Kuroo's [Block] by 14/16/18%. If his block result is PERFECT, the opposing team member who performs a spike (Power Attack/Quick Attack) will be inflicted with the [Rage] disadvantage ([Power Attack/Quick Attack] will be reduced by 10%)."},{nome:"Lead Block",descricao:"Tetsuro Kuroo blocks with a power of [Block] × 235/250/265/280/295%. If the opposing member who performed the spike (Power Attack/Quick Attack) has a disadvantageous effect, the power of this block increases by an additional [Block] × 20%."}], symbols: [ "img/quicksymbol.png", "img/blocksymbol.png" ] },
{ nome: "Lev SSR", funcao: "MB", img: "img/levSR.png", School: "Nekoma", vinculo: ["Educational Guidance"],status:{Serve:1206,Spike:1318,Set:1138,Receive:1166,Block:1378,Save:1100}, habilidades:[{nome:"TRIGGERED BURST", descricao:"While LEV HAIBA is on the court, when your side achieves a PERFECT Receive, his next Quick Spike gains 15% of his Quick Attack stat as additional power."}, {nome:"MOMENTUM BLOCK", descricao:"LEV HAIBA performs a Block with 105% of his Block stat."}, {nome:"GIFTED ATHLETE", descricao:"When LEV HAIBA performs a Quick Spike and the opponent's blocker is affected by a debuff, reduces that blocker's Block power by 10% of their Block stat."}, {nome:"TALENTED SPIKE", descricao:"LEV HAIBA performs a Quick Spike with 245% of his Quick Attack stat."}], symbols: [ "img/quicksymbol.png", "img/blocksymbol.png" ] },
{ nome: "Aone SP", funcao: "MB", img: "img/aoneSP.png", School: "Dateko", vinculo: ["Swimming"],status:{Serve:1800,Spike:1800,Set:1700,Receive:1500,Block:2000,Save:1550}, habilidades:[{nome:"Mighty Wall",descricao:"Aone Takanobu (Beach Boys)'s [Reaction] is increased by 10/13/16%. If Aone Takanobu (Beach Boys)'s Stamina is less than 80, his [Block] and [Serve] are increased by 10%. When Aone Takanobu (Beach Boys) blocks, if this play results in a 2-person or 3-person block, for each member with a block skill among the blocking members, the block power of this play is increased with 20% of Aone Takanobu (Beach Boys)'s [Block] stat as power."},{nome:"Team Motivating Jump Serve",descricao:"Takanobu Aone (Beach Boys) performs a Jump Serve with 140/160/180% of [Serve] as power. The cooldown of the opposing setter's skill is increased by 4 times the number of times the ball has crossed the net (Example, 2 net crossings × 4 = +8 cooldown). When Takanobu Aone (Beach Boys) leaves the court, if Takanobu Aone (Beach Boys) has activated [Team Motivating Jump Serve] during this match, the [Offensive Technique] and [Defensive Technique] of your players are increased by 5%, and if the number of stacks of the [Tough Block] effect is 3 or more, the [Offensive Technique] and [Defensive Technique] of your players are increased by 5% more. This effect lasts until Takanobu Aone (Beach Boys)'s next match. (Each stack of [Tough Block] increases [Reflex] by 10%, with a maximum of 20 stacks)."}, {nome:"Strong and High Walls",descricao:"When Takanobu Aone (Beach Boys) is on the court, each time an opposing player performs an attack (Power Attack/Quick Attack), the attacker gains 1 stack of [Locked On]. At the start of the match, all opposing players gain 1 stack of [Locked On]. If Takanobu Aone (Beach Boys) is on the court and an opposing player has two stacks of [Locked On], that player will consume all of their stacks of [Locked On], and Aone Takanobu (Beach Boys) will gain [Tough Block]. If Aone Takanobu (Beach Boys) has more than 2 stacks of [Tough Block], his Block is increased by 10% of [Block] as power. If Takanobu Aone (Beach Boys) has more than 4 stacks of [Tough Block], the cooldown of [Sharp, Leading Block] decreases to 8 net crossings (12 net crossings → 8 net crossings). If Takanobu Aone (Beach Boys) has more than 6 stacks of [Tough Block], his [Spirit] increases by 10%. If Takanobu Aone (Beach Boys) has more than 8 stacks of [Tough Block], the cooldown of [Sharp, Leading Block] further decreases to 4 net crossings (8 net crossings → 4 net crossings)."}, {nome:"Sharp, Leading Block",descricao:"Takanobu Aone (Beach Boys) blocks with 260/275/290/305/320% of [Block] stat as power. Increases team morale by 15."}], symbols: [ "img/blocksymbol.png", "img/servesymbol.png" ] },
{ nome: "Aone SSR", funcao: "MB", img: "img/aoneSR.png", School: "Dateko", vinculo: ["The Silent and the Sarcastic"],status:{Serve:1219,Spike:1316,Set:1146,Receive:1173,Block:1389,Save:1102}, habilidades:[{nome:"LOCK DOWN ACE", descricao:"When TAKANOBU AONE achieves a PERFECT Block result, marks the opponent spiker, reducing their next spike's power by 10% of Power/Quick Attack stat and increasing their Stamina consumption by 30%"}, {nome:"HEAVY STRIKE", descricao:"TAKANOBU AONE performs a Quick Spike with 120% of Quick Attack stat as power"}, {nome:"TRI-WALL FORMATION", descricao:"When TAKANOBU AONE blocks, for each Block-type player on your side (1), increases Block power by 1% of Block stat; when all 3 front row players are of Block-type, increases Block power by an additional 4% of Block stat"}, {nome:"IRON PILLAR", descricao:"TAKANOBU AONE performs a Block with 195% of Block stat as power; when blocking an opponent's Power Spike, increases this block's power by an additional 9% of Block stat"}], symbols: [ "img/quicksymbol.png", "img/blocksymbol.png" ] },
{ nome: "Futakuchi SSR", funcao: "WS", img: "img/futakuchiSR.png", School: "Dateko", vinculo: ["The Silent and the Sarcastic" , "The New Captain and the Tall Rookie"],status:{Serve:1217,Spike:1316,Set:1147,Receive:1184,Block:1385,Save:1122}, habilidades:[{nome:"CAPTAIN'S AUTHORITY", descricao:"While KENJI FUTAKUCHI is present, increases your side's Block power by 8% of each player's Block stat"}, {nome:"INITIATE ATTACK", descricao:"KENJI FUTAKUCHI performs a Jump Serve with 120% of Serve stat as power"}, {nome:"RAISING DEFENSE", descricao:"While KENJI FUTAKUCHI is present, for each Block-type player on your side (1), increases Block power by 0.5% of Block stat"}, {nome:"UNBREAKABLE IRON WALL", descricao:"KENJI FUTAKUCHI performs a Block with 195% of Block stat as power; when the opponent's spiking player is affected by a debuff, increases this block's power by an additional 10% of Block stat"}], symbols: [ "img/blocksymbol.png", "img/servesymbol.png" ] },
{ nome: "Sasaya SSR", funcao: "OP", img: "img/sasayaSR.png", School: "Dateko", vinculo: [],status:{Serve:1184,Spike:1378,Set:1120,Receive:1314,Block:1255,Save:1127}, habilidades:[{nome:"CALM RESPONSE", descricao:"Increases TAKEHITO SASAYA's Awareness by 5%; while Sasaya is present, increases Reflex of players on your side by 5%"}, {nome:"IMPENETRABLE DEFENSE", descricao:"TAKEHITO SASAYA performs a Block with 105% of Block stat as power"}, {nome:"FORTIFIED IRON WALL", descricao:"While TAKEHITO SASAYA is present, when your side is behind, increases your side's Block skill power by an additional 3% of each blocking player's Block stat and increases blocking players' Reflex by 5%"}, {nome:"AGGRESSIVE PLAY", descricao:"TAKEHITO SASAYA performs a Power Spike with 240% of Power Attack stat as power"}], symbols: [ "img/powersymbol.png" ] },
{ nome: "Koganegawa SSR", funcao: "S", img: "img/koganegawaSR.png", School: "Dateko", vinculo: ["The New Captain and the Tall Rookie"],status:{Serve:1166,Spike:1302,Set:1365,Receive:1100,Block:1306,Save:1031}, habilidades:[{nome: "Rookie Setter", descricao: "KANJI KOGANEGAWA performs a Set with 120% of his Set stat."}, {nome: "Block Spark", descricao: "KANJI KOGANEGAWA performs a Block with 105% of his Block stat. While he is on the court, when the opponent performs a Power Spike, your side's blocking players gain 3% additional Block power based on their own Block stat."}, {nome: "Iron Wall III", descricao: "While KANJI KOGANEGAWA is on the court, increases Block power of your other players' Block skills by 2% of their Block stat."}, {nome: "Flash Dump", descricao: "KANJI KOGANEGAWA performs an unblockable Setter Dump with 210% of his Set stat."}], symbols: [ "img/blocksymbol.png", "img/settersymbol.png" ] }, 
{ nome: "Oikawa UR",data: "09/14/25", funcao: "S", img: "img/oikawaUR.png", School: "Aoba Johsai", vinculo: ["Perfect Harmony"],status:{Serve:1705,Spike:1533,Set:1627,Receive:1378,Block:1530,Save:1290}, habilidades:[{nome:"The King's Set",descricao:"Oikawa Tooru Sets with 120/135/150% of [Set] as power. If a teammate on the court performs a play, and the result is Perfect, he gains 1 stack of [Offensive Rhythm]. For each stack of [Offensive Rhythm], the [Awareness] of your deployed players increases by 1%, with a maximum of 10 stacks."},{nome:"Unparalleled Talent",descricao:"Oikawa Tooru performs a setter dump with 115% of [Set] as power. The setter dump cannot be blocked. If Oikawa Tooru is on the court, a Power Attack on an allied court member's [Power] is increased by 20%."},{nome:"Conductor",descricao:"When Oikawa Tooru is on the court, the [Awareness] of your players on the court is increased by 10/14/18%. (If Oikawa has 6+ stacks of [Offensive Rhythm]). When one of your players performs a Power Attack skill, consumes 6 stacks of [Offensive Rhythm], and a Perfect result is guaranteed."},{nome:"The Great King's Jump Serve",descricao:"Oikawa Tooru performs a Jump Serve with 260/275/290/305/320% with [Serve] as power. This play increases his [Awareness] by 20% and his [Power] by 20%."}], symbols: [ "img/powersymbol.png", "img/servesymbol.png", "img/settersymbol.png" ] },
{ nome: "Oikawa SSR", funcao: "S", img: "img/oikawaSR.png", School: "Aoba Johsai", vinculo: [],status:{Serve:1391,Spike:1327,Set:1327,Receive:1125,Block:1248,Save:1054}, habilidades:[{nome:"COURT VISION",descricao:"Increases TORU OIKAWA (Practice)'s Set stat by 10%. When your players cast a Spike skill, they gain 1 stack(s) of 'Attack Tempo'. Each stack increases your players' Awareness by 1%, up to 10 stacks."},{nome:"GAME CHANGER",descricao:"While TORU OIKAWA (Practice) is on the court, at the start of each turn, if your side is behind, increases all basic stats of your players by 6%, lasting for 8 net crossings."},{nome:"CONTROL TOWER",descricao:"While TORU OIKAWA (Practice) is on the court, increases your players’ Awareness by 6%. Each stack of 'Attack Tempo' provides an additional 1% Awareness."},{nome:"DOUBLE-EDGED SERVE",descricao:"TORU OIKAWA (Practice) performs a Power Jump Serve with 240% of his Serve stat. For this Serve, his Awareness increases by 15%. This Serve has a 5% chance to fail."}], symbols: [ "img/powersymbol.png", "img/servesymbol.png", "img/settersymbol.png" ] },
{ nome: "Iwazumi SSR", funcao: "WS", img: "img/iwazumiSR.png", School: "Aoba Johsai", vinculo: ["Perfect Harmony", "The Pack"],status:{Serve:1190,Spike:1385,Set:1118,Receive:1314,Block:1248,Save:1129}, habilidades:[{nome:"Ace's Strength",descricao:"Increases HAJIME IWAIZUMI's Awareness by 5% and Strength by 10%"},{nome:"Focused Defense",descricao:"HAJIME IWAIZUMI performs a Receive with 120% of Receive stat as power"},{nome:"Vice-Captain's Rally",descricao:"While HAJIME IWAIZUMI is present, increases Strength of players on your side by 6%"},{nome:"Head-to-Head",descricao:"HAJIME IWAIZUMI performs a Power Spike with 240% of Power Attack stat as power; when this spike achieves Critical result, increases its power by 15% of Power Attack stat"}], symbols: [ "img/powersymbol.png" ] },
{ nome: "Kentaro MAD DOG SSR", funcao: "OP", img: "img/kentaroSR.png", School: "Aoba Johsai", vinculo: ["The Pack"],status:{Serve:1320,Spike:1383,Set:1106,Receive:1235,Block:1179,Save:1109}, habilidades:[{nome:"FIERCE ATTACK", descricao:"Increases KENTARO KYOTANI's Awareness by 8% and Power Attack stat by 5%"}, {nome:"MAD DOG SERVE", descricao:"KENTARO KYOTANI performs a Serve with 130% of his Serve stat. For this Serve, his Awareness increases by 15%, with a fixed 10% chance to fail"}, {nome:"STRENGTH BURST", descricao:"Increases KENTARO KYOTANI's Strength by 18%"}, {nome:"MAD DOG'S FANG", descricao:"KENTARO KYOTANI performs a Power Spike with 210% of his Power Attack stat, reducing the Stamina of the opponent's blocking and receiving players by 10"}], symbols: [ "img/powersymbol.png", "img/servesymbol.png" ] },
{ nome: "Ushijima UR", funcao: "OP", img: "img/ushijimaUR.png", School: "Shiratorizawa", vinculo: ["Besties for Life", "Absolute Champion and Steady Setter"],status:{Serve:1499,Spike:1574,Set:1261,Receive:1417,Block:1345,Save:1261}, habilidades:[{nome:"IN THE GROOVE",descricao:"Increases WAKATOSHI USHIJIMA's Awareness by 8%. While he is on the court, his Awareness increases by an additional 3% at the end of each turn."},{nome:"DOMINATING SERVE",descricao:"WAKATOSHI USHIJIMA performs a Jump Serve with 125% of his Serve stat. If this Serve is a Critical Serve, the receiving players cannot cast skills. When this Serve scores, reduces DOMINATING SERVE's cooldown by 4 net crossings."},{nome:"STRENGTH BURST",descricao:"Increases WAKATOSHI USHIJIMA's Strength by 18%."},{nome:"CRUSHING SPIKE",descricao:"WAKATOSHI USHIJIMA performs a Power Spike with 220% of his Power Attack stat. This Spike deals an additional 30% damage to the opponent's Libero."},{nome:"Ace Style",descricao:"When your players land Critical Spikes, WAKATOSHI USHIJIMA gains 1.5% to all Basic Stats, stacking up to 8 times. When he scores, removes all debuffs from himself."},{nome:"Undisputed Ace",descricao:"WAKATOSHI USHIJIMA performs a Power Spike with 250% of his Power Attack stat. If this Spike is a Critical, reduces [UNDISPUTED ACE]'s cooldown by 1 net crossings."}], symbols: [ "img/powersymbol.png", "img/servesymbol.png" ] },
{ nome: "Tendo SSR", funcao: "MB", img: "img/tendoSR.png", School: "Shiratorizawa", vinculo: ["Besties for Life"],status:{Serve:1214,Spike:1314,Set:1140,Receive:1177,Block:1387,Save:1100}, habilidades:[{nome:"My own pace",descricao:"Tendo Satoru's [Reaction] increases by 12/17/22%."},{nome:"A surprise attack",descricao:"Tendo Satoru makes a Quick Attack with 120/135/150% of [Quick Attack] stat as power."},{nome:"Block Psychological Warfare",descricao:"If Satoru Tendo's block results in a good play, the cooldown of Sharp Reading is reduced by 1/2/3 for the number of times the ball goes over the net."},{nome:"Sharp “reading”",descricao:"Satoru Tendo blocks with a power of 220/235/250/265/280% of his [Block]. If the opponent's spike (Powerful or Quick Attack) is a nice play, Satoru Tendo's [Reaction] is increased by 15%."}], symbols: [ "img/blocksymbol.png" ] },
{ nome: "Goshiki SSR", funcao: "WS", img: "img/goshikiSR.png", School: "Shiratorizawa", vinculo: ["Shiratorizawa’s WS"],status:{Serve:1188,Spike:1383,Set:1115,Receive:1314,Block:1240,Save:1122}, habilidades:[{nome:"Meet Expectations",descricao:"When Tsutomu Goshiki scores, team morale is increased by 8/10/12."},{nome:"Pure Receive",descricao:"Tsutomu Goshiki receives with 120/135/150% of [Receive] as power."},{nome:"Next Ace",descricao:"At the end of each rally, Tsutomu Goshiki gains one stack of [Sharpness] effect. Each stack of [Sharpness] increases [Power Attack] by 2.5/3.3/5%. Up to 5 stacks."},{nome:"Make a Miracle",descricao:"Tsutomu Goshiki performs a Power Attack with 225/240/255/270/285% of [Power Attack] as power. This move increases [Awareness] by 10%."}], symbols: [ "img/powersymbol.png", "img/servesymbol.png" ] },
{ nome: "Shirabu SSR", funcao: "S", img: "img/shirabuSR.png", School: "Shiratorizawa", vinculo: ["Absolute Champion and Steady Setter"],status:{Serve:1303,Spike:1382,Set:1242,Receive:1118,Block:1239,Save:1041}, habilidades:[{nome:"As Usual",descricao:"Increases Kenjiro Shirabu's [Set] by 10/13/16%. If the member who spikes [Power Attack/Quick Attack] is a power hitter, the power of this spike increases by 8% of that member's [Power Attack]."},{nome:"Simple Setter Dump",descricao:"Kenjiro Shirabu performs a setter dump with 120/135/150% of [Set] as power. This cannot be blocked."},{nome:"Correction Ability",descricao:"Kenjiro Shirabu's [Awareness] increases by 9/12/15%."},{nome:"Set That Makes the Most of the Spiker",descricao:"Kenjiro Shirabu sets with 210/225/240/250/270% of [Set] as power. This move increases [Awareness] by 10%."}], symbols: [ "img/powersymbol.png", "img/settersymbol.png" ] },
{ nome: "Semi SSR", funcao: "S", img: "img/semiSR.png", School: "Shiratorizawa", vinculo: [],status:{Serve:1476,Spike:1329,Set:1406,Receive:1184,Block:1329,Save:1111}, habilidades:[{nome:"Control",descricao:"When Eita Semi performs a serve, the opposing receiver's Receive is reduced by 13/15.5/18% of that player's [Receive] as power. This effect lasts for 4 net crossings."},{nome:"Prototype Assembly",descricao:"Semi Eita performs a Set with 120/135/150% of [Set] as power."},{nome:"Demonstration of Ability",descricao:"When Eita Semi serves, [Awareness] increases by 5/5/8% and [Power] increases by 10/15/15%."},{nome:"This Much is Free",descricao:"Eita Semi performs a Jump Serve with a power of 220/235/250/265/280% of his [Serve]. If he scores an ace with this serve, his teammates' [Awareness] will increase by 3% and [Reaction] by 6%."}], symbols: [ "img/powersymbol.png", "img/servesymbol.png", "img/settersymbol.png" ] },
{ nome: "Ohira SSR", funcao: "WS", img: "img/ohiraSR.png", School: "Shiratorizawa", vinculo: ["Shiratorizawa’s WS"],status:{Serve:1272,Spike:1477,Set:1188,Receive:1399,Block:1332,Save:1197}, habilidades:[{nome:"Strong Defense",descricao:"When Ohira Reon receives, if the opponent's quick attack is a NICE play, the power of this receive is 40/55/70% of [Receive] as power."},{nome:"Defense That Changes The Flow",descricao:"Ohira Reon receives with 120/135/150% of [Receive] as power."},{nome:"The Gentle “Benkei”",descricao:"Ohira Reon's [Awareness] is increased by 5/5/8%, and his [Reaction] is increased by 10/15/15%."},{nome:"Power Spikes",descricao:"Ohira Reon makes a powerful spike with 240/255/270/285/300% of [Power Attack] as power."}], symbols: [ "img/receivesymbol.png" ] },
/* ==missing stats== */{ nome: "Yamagata SSR", funcao: "L", img: "img/yamagataSR.png", School: "Shiratorizawa", vinculo: [],status:{Serve:1,Spike:1,Set:1,Receive:1,Block:1,Save:1}, habilidades:[{nome:"Stable Ability",descricao:"Yamagata Hayato's [Reaction] is increased by 13/20/15%."},{nome:"Wide Range of Defense",descricao:"Yamagata Hayato performs a save with [Save] × 120/135/150% as their power."},{nome:"Reflexes",descricao:"If the opponent's block result is PERFECT, Yamagata Hayato's save increases by [Save] × 40/50/60%."},{nome:"Solid receiving",descricao:"Yamagata Hayato receives with [Receive] × 235/250/265/280/295% as his power."}], symbols: [ "img/receivesymbol.png" ] },
{ nome: "Bokuto UR",data: "08/30/25", funcao: "WS", img: "img/bokutoUR.png", School: "Fukurodani", vinculo: ["Miracle Ace and Caring Setter"],status:{Serve:1495,Spike:1572,Set:1262,Receive:1417,Block:1347,Save:1268}, habilidades:[{nome:"Influence of Enthusiasm",descricao:"When Bokuto Kotaro plays, team morale of allies increases by 20%/25%/30%. When Bokuto Kotaro is on the court, team morale of allies increases by 4 when an allied member touches the ball. Effect of team morale awakening for allies changed: Main stats of all members on the court increase by 32%/36%/40%. Lasts until allies touch the ball four times."},{nome:"Big Server",descricao:"Kotaro Bokuto performs a jump serve with [Serve] × 125%/140%/155% power."},{nome:"Ups and Downs in Mood",descricao:"While under the effect of [Excellent Condition], Kotaro Bokuto's [Power Attack] is increased by 12%/15%/18% and his [Power] is increased by 18%/22.5%/27%. While under the effect of [Depressed Mode], Kotaro Bokuto cannot activate Power Attack skills. When an ally activates Team Morale Awakening, Kotaro Bokuto gains the [Excellent Condition] effect. When the team morale awakening of an ally ends, Kotaro Bokuto will gain the [Depressed Mode] effect. At the end of each rally, Kotaro Bokuto loses the [Sad Mode] effect."},{nome:"Ace Thanks to Everyone",descricao:"Kotaro Bokuto performs a Power Attack with the power of [Power Attack] × 260%/275%/290%/305%/320%. If this hit is a nice play, Kotaro Bokuto's [Power] increases by 12%/14%/16%/18%/20% and his team's morale increases by 16."}], symbols: [ "img/powersymbol.png", "img/servesymbol.png" ] },
{ nome: "Bokuto SP",data: "05/12/26", funcao: "WS", img: "img/bokutoSP.png", School: "Fukurodani", vinculo: ["Swimming", "Ace Miraculous and Caring Setter"],status:{Serve:1673, Spike:1950, Set:1574, Receive:1856, Block:1760, Save:1572}, habilidades:[{nome:"Enliven",descricao:"Kotaro Bokuro (Beach Boys)’s [Power Attack] increases by 13%/16%/19%. When Kotaro Bokuto (Beach Boys) is on the court, the effects of team morale boosts for allies other than 'Encourage' are reduced by 100%, and for every 10 morale boost reduced, the player gains 1 stack of the 'United' effect. For each stack of the 'United' effect, the main parameters of allied members increase by 0.16%. Up to 199 stacks. When Kotaro Bokuto (Swimming) is on the court, his teammates will..."},{nome:"Defensive Participation",descricao:"Kotaro Bokuto (Sea Bathing) receives with [Receive] × 140%/160%/180% as power. Gain 3 stacks of the [Unity] effect."},{nome:"Always Cheerful!",descricao:"If you have the [Best Condition] effect, when Kotaro Bokuto (Beach Boys) activates his Ultimate, his [Power Attack] is increased by 1% for each stack of [United] effect. Up to a maximum of 70% increase is possible. This effect lasts until the ball goes over the net twice. Also, for each stack of [United] effect, the power of his Powerful Hit is increased by [Power Attack] × 1.5%. Up to a maximum of 120% increase is possible. This effect lasts until the ball goes over the net twice. After Kotaro Bokuto (Swimming in the Sea) activates his Ultimate, Kotaro Bokuto (Swimming in the Sea) will gain [Ups and Downs]."},{nome:"Miracle Spike",descricao:"Kotaro Bokuto (Beach Boys) will perform a spike with power equal to 260%/280%/300%/320%/340% of his [Power Attack]. For each stack of [United] effect, Kotaro Bokuto (Beach Boys)’s [Attack Technique] will increase by 0.75%. Up to a maximum of 30% increase is possible. This effect lasts until the ball goes over the net twice."}], symbols: [ "img/powersymbol.png", "img/servesymbol.png" ] },
/* ==missing skills== */{ nome: "Akaashi SP",data: "06/11/26", funcao: "S", img: "img/akaashiSP.png", School: "Fukurodani", vinculo: ["Swimming", "Ace Miraculous and Caring Setter"],status:{Serve:1848, Spike:1754, Set:1949, Receive:1581, Block:1758, Save:1489}, habilidades:[ {nome: "No info yet", descricao:"No info yet"}, {nome: "No info yet", descricao:"No info yet"},{nome: "No info yet", descricao:"No info yet"},{nome: "No info yet", descricao:"No info yet"}], symbols: [ "img/powersymbol.png", "img/settersymbol.png" ] },
/* ==missing skills== */{ nome: "Akaashi SSR", funcao: "S", img: "img/akaashiSR.png", School: "Fukurodani", vinculo: ["Miracle Ace and Caring Setter"],status:{Serve:1396,Spike:1331,Set:1476,Receive:1191,Block:1334,Save:1123}, habilidades:[ {nome: "No info yet", descricao:"No info yet"}, {nome: "No info yet", descricao:"No info yet"},{nome: "No info yet", descricao:"No info yet"},{nome: "No info yet", descricao:"No info yet"}], symbols: [ "img/powersymbol.png", "img/settersymbol.png" ] },
/* ==missing skills== */{ nome: "Konoha SSR", funcao: "OP", img: "img/konohaSR.png", School: "Fukurodani", vinculo: [],status:{Serve:1256,Spike:1462,Set:1196,Receive:1274,Block:1333,Save:1335}, habilidades:[ {nome: "No info yet", descricao:"No info yet"}, {nome: "No info yet", descricao:"No info yet"},{nome: "No info yet", descricao:"No info yet"},{nome: "No info yet", descricao:"No info yet"}], symbols: [ "img/receivesymbol.png" ] },
/* ==missing skills / stats== */{ nome: "Haruki SSR", funcao: "L", img: "img/harukiSR.png", School: "Fukurodani", vinculo: [],status:{Serve:1,Spike:1,Set:1,Receive:1,Block:1,Save:1}, habilidades:[ {nome: "No info yet", descricao:"No info yet"}, {nome: "No info yet", descricao:"No info yet"},{nome: "No info yet", descricao:"No info yet"},{nome: "No info yet", descricao:"No info yet"}], symbols: [ "img/receivesymbol.png" ] },
/* ==missing skills / stats== */{ nome: "Tatsuo SSR", funcao: "MB", img: "img/tatsuoSR.png", School: "Fukurodani", vinculo: [],status:{Serve:1,Spike:1,Set:1,Receive:1,Block:1,Save:1}, habilidades:[ {nome: "No info yet", descricao:"No info yet"}, {nome: "No info yet", descricao:"No info yet"},{nome: "No info yet", descricao:"No info yet"},{nome: "No info yet", descricao:"No info yet"}], symbols: [ "img/quicksymbol.png", "img/blocksymbol.png" ] },
{ nome: "Terushima SSR", funcao: "WS", img: "img/terushimaSR.png", School: "Jozenji", vinculo: [],status:{Serve:1401,Spike:1470,Set:1196,Receive:1335,Block:1263,Save:1196}, habilidades:[{nome:"Free Spirit",descricao:"Increases Terushima Yuji's [Power Attack] by 8%/10%/12%. When he is on the court and the result of a receive, save, or set by an ally is not a BAD result, Terushima Yuji gains 1 stack of the [Play More, Play More] effect. Each stack increases [Power Attack/Quick Attack] by 2.5%. Up to 4 stacks."},{nome:"Fun Serve",descricao:"Terushima Yuji performs a jump serve with 120%/135%/150% of [Serve] as power."},{nome:"Asoviva",descricao:"For each receiving team member on the team's court, Terushima Yuji's [Receive] increases by 4%/5%/6%. If he misses a receive, no points are lost. The cooldown for this effect lasts until the ball has crossed the net 10 times."},{nome:"Exciting Spike",descricao:"Terushima Yuji hits a powerful spike with 235%/250%/265%/280%/295% of [Power Attack] as power. If this scores a point, the [Receive] of allies will increase by 10%. This effect will last until the ball has crossed the net 3 times."}], symbols: [ "img/powersymbol.png", "img/servesymbol.png" ] },
{ nome: "Atsumu UR",data: "10/14/25", funcao: "S", img: "img/atsumuUR.png", School: "Inarizaki", vinculo: ["Twin Power", "Twin Heads"],status:{Serve:1705,Spike:1539,Set:1629,Receive:1376,Block:1530,Save:1290}, habilidades:[{nome:"Unpredictable Play",descricao:"When Miya Atsumu performs a serve, if the serve is aimed at a weak spot in the opposing team's defense, the power of that serve is increased by 30%/40%/50% of [Serve] stat as power. When the serve is not aimed at a weak spot in the opposing team's defense, the [Receive] of your back row players increases by 10%/12%/14%. This effect lasts for one rally (one full point)."}, {nome:"Delicate Set",descricao:"Miya Atsumu will set with 125%/140%/155% of [Set] as power. This set resets all debuffs of the player who spikes (Power Attack/Quick Attack)."}, {nome:"Devoted and Sincere Set",descricao:"Increases Miya Atsumu's [Set] by 8%/11%/14%. When one of your players performs an action, and the result is not Perfect, Miya Atsumu gains two stacks of [Perfect Timing]. Each stack of [Perfect Timing] increases [Set] by 2%, with a maximum of 10 stacks. When Miya Atsumu sets, he consumes one stack of [Perfect Timing], increasing the [Attack Technique] and [Quick Attack] stats of the player who spikes (Power Attack/Quick Attack) by 2.5. This effect lasts for 10 net crossings."}, {nome:"Twin Swords Serve",descricao:"Miya Atsumu alternates between a Jump Serve and a Jump Float Serve. Jump Float Serve: Miya Atsumu performs a Jump Float Serve with 230%/245%/275%/290% of [Serve] as power. Opposing players cannot use [Power Attack] or [Quick Attack] ultimates. This effect lasts for 2 net crossings. Jump Serve: Miya Atsumu performs a Jump Serve with 260%/275%/290%/305%/320% of [Serve] as power. For every 3 Team Morale, Miya Atsumu's [Awareness] will increase by 1%. This effect lasts for 2 net crossings."}], symbols: [ "img/quicksymbol.png", "img/servesymbol.png", "img/settersymbol.png" ] },
{ nome: "Osamu UR",data: "10/29/25", funcao: "OP", img: "img/osamuUR.png", School: "Inarizaki", vinculo: ["Twin Power", "Twin Heads"],status:{Serve:1621, Spike:1685, Set:1426, Receive:1459, Block:1428, Save:1373}, habilidades:[{nome:"Flexible Offense",descricao:"Increases Miya Osamu's [Quick Attack] by 10%/12%/14%. Beginning of match: Miya Osamu's [Awareness] decreases to 0%, and for every 1% decrease, Miya Osamu's [Attack Technique] increases by 1%. Note: Stacking Osamu's Awareness should be priority for this skill alone."}, {nome:"Cool Jump Serve",descricao:"Miya Osamu performs a Jump Serve with 120%/135%/150% of [Serve] stat as power. If the opponent's receiver has the debuff [Suppression], Miya Osamu's [Attack Technique] is increased by 10%. This effect lasts for 8 net crossings."}, {nome:"Multi-talented",descricao:"Increases Miya Osamu's [Attack Technique] by 10%/13%/16%. When Miya Osamu performs an attack or serve, he inflicts one stack of the debuff [Suppression] on the opponent's back row players. (Players with the debuff [Suppression] have their [Receive] stat reduced by 10%, per stack). This effect lasts for 10 net crossings."}, {nome:"Flexible Counter Attack",descricao:"Miya Osamu performs a quick attack with 260%/275%/290%/305%/320% of [Quick Attack] as power. Miya Osamu's [Quick Attack] stat is increased by 40% of [Attack Technique]. This effect lasts for 2 net crossings. Note: This is influenced by the [Attack Technique] gained by Flexible Offense. Skill Resonance 2: When Miya Osamu performs a quick attack, if the opponent's receiver has the debuff [Suppression], the attack's power will increase by 60% of [Quick Attack] stat. Skill Resonance 4: When Miya Osamu performs a quick attack, the next two time one of your side's players activates their ultimate, [Attack Technique] and [Defensive Technique] of that player will increase by 20%."}], symbols: [ "img/quicksymbol.png", "img/servesymbol.png" ] },
{ nome: "Kita SSR", funcao: "WS", img: "img/kitaSR.png", School: "Inarizaki", vinculo: ["Twin Heads"],status:{Serve:1238, Spike:1219, Set:1333, Receive:1476, Block:1198, Save:1409}, habilidades:[{nome:"Repetition, continuity, and caution",descricao:"Increases Kita Shinsuke's Basic Stats by 6%/8%/10%. If Kita's [Receive] result is BAD, Kita's [Defensive Technique] is increased by 80% of [Reflex] as power. Note: This is an increase of [Defensive Technique] by the value of [Reflex]."}, {nome:"Calm Play",descricao:"Kita Shinsuke performs a [Save] with 120%/135%/150% of [Save] stat as power."}, {nome:"I'll Do It Properly",descricao:"Kita Shinsuke's [Receive] stat is increased by 8%/10%/12%. Kita Shinsuke performs a [Receive]. If the [Receive] result is not Perfect, he gains 1 stack of [Reliable Action]. Each stack of [Reliable Action] increases Kita Shinsuke's [Receive] stat by 3%, up to a maximum of 3 stacks. If Kita Shinsuke possesses 3 or stacks of [Reliable Action], consume 3 stacks of [Reliable Action] increase [Attack Technique] of your side's front row players by 10%. This effect lasts for 8 net crossings."}, {nome:"Solid Play",descricao:"Kita Shinsuke performs a [Receive] with 235%/250%/265%/280%/295% of [Receive] stat power."}], symbols: [ "img/receivesymbol.png" ] },
{ nome: "Rintaro SSR", funcao: "MB", img: "img/rintaroSR.png", School: "Inarizaki", vinculo: [],status:{Serve:1266, Spike:1476, Set:1186, Receive:1258, Block:1324, Save:1318}, habilidades:[{nome:"Close The Course",descricao:"Increases Rintaro Suna's [Block] by 10%/12%/14%. When he is on the court and an opposing team member who spikes has the disadvantage effect of [Confusion], the power of the team's block increases by 15%/20%/25% of the blocking team member's [Block]."}, {nome:"Skilled Block",descricao:"Rintaro Suna blocks with 20%/35%/50% of the attack's power."}, {nome:"A Play that Catches the Opponent Off Guard",descricao:"Increases Rintaro Suna's [Quick Attack] by 10%/12%/14%. When he is on a quick attack, he inflicts 1 stack of the [Confusion] effect on the opponent's front line. For each stack of [Confusion], their [Block] is reduced by 10%. This effect lasts until the ball has crossed the net 8 times."}, {nome:"Spikes With a Wide Impact Point",descricao:"Rintaro Suna performs a quick attack with 240%/255%/270%/285%/300% of [Quick Attack] as power."}], symbols: [ "img/quicksymbol.png", "img/blocksymbol.png" ] },
/* ==missing stats== */{ nome: "Oshiro SSR", funcao: "WS", img: "img/oshiroSR.png", School: "Inarizaki", vinculo: [],status:{Serve:1,Spike:1,Set:1,Receive:1,Block:1,Save:1}, habilidades:[{nome:"Rhythm Control",descricao:"Every time Oshiro Alan consumes 10 stamina, he gains 1 stack of [Quick Breather]. Each stack of [Quick Breather] effects increases [Attack Technique] by 3%/3.5%/4%. At the end of a rally, all [Quick Breather] effects are consumed. For every stack of [Breathing Time] that is consumed, Oshiro Alan recovers 4 stamina."}, {nome:"Highly Skilled Serve",descricao:"Ojiro Alan performs a Jump Serve with 110%/125%/140% of [Serve] stat as power. The opponent receiver will have their [Receive] reduced by 10%. This effect lasts for six net crossings."}, {nome:"Aggressive Assault",descricao:"Increases Oshiro Alan's [Power Attack] by 6%/8%/10% and [Serve] by 6%/8%/10%. When Oshiro Alan performs a Power Attack, 60% of his current stamina is consumed, and this power attack increases by 30%/40%/50% of [Power Attack] as power."}, {nome:"Thunderous Spike",descricao:"Ojiro Alan performs a power attack with 240%/255%/270%/285%/300% of [Power Attack] as power."}], symbols: [ "img/powersymbol.png", "img/servesymbol.png" ] },
/* ==missing stats== */{ nome: "Akagi SSR", funcao: "L", img: "img/akagiSR.png", School: "Inarizaki", vinculo: [],status:{Serve:1,Spike:1,Set:1,Receive:1,Block:1,Save:1}, habilidades:[{nome:"Seriousness boosting save",descricao:"Increases Akagi Michinari's [Receive] and [Cover] by 8%/10%/12%. Increases team morale by 10 when Akagi Michinari receives or covers."}, {nome:"A reliable libero",descricao:"Akagi Michinari will cover with a power equal to 120%/135%/150% of [Cover]. Increases the [Defensive Technique] of allies by 4%/6%/8%. This effect lasts until the ball has crossed the net 6 times."}, {nome:"Chase the ball with your hand",descricao:"Akagi Michinari's [Receive] is increased by 10%/12%/14%. When Akagi Michinari is on the court, an opposing member who hits a powerful shot will be inflicted with one stack of the [Approaching] disadvantage. For each stack of the [Approaching] disadvantage, [Approaching] will decrease [Power Attack] by 8%/10%/12%. This effect lasts until the ball goes over the net three times. When Akagi Michinari is on the court and an opposing member who hits a powerful shot already has the [Approaching] disadvantage, allied members' [Defensive Technique] will be increased by 4%/6%/8%. This effect lasts until the ball goes over the net three times."}, {nome:"Gutsy Receive",descricao:"Akagi Michinari receives with 240%/255%/270%/285%/300% of [Receive] as power."}], symbols: [ "img/receivesymbol.png" ] },
/* ==missing stats== */{ nome: "Yui SSR", funcao: "WS", img: "img/yuiSR.png", School: "Inarizaki", vinculo: [],status:{Serve:1,Spike:1,Set:1,Receive:1,Block:1,Save:1}, habilidades:[{nome:"Stable Offense and Defense",descricao:"Increases Ginjima Yui's [Power Attack] by 6%/8%/10% and [Receive] by 6%/8%/10%. When Ginjima Yui receives, if the opponent performs a Power Attack, the power of this receive increases by [Receive] × 15%/25%/35%."}, {nome:"Powerful Receive",descricao:"Ginjima Yui receives with a power of [Receive] × 120%/135%/150%."}, {nome:"An Enthusiastic Attack",descricao:"Whenever there is one receiving member on the team, Ginjima Yui's [Attack Technique] increases by 2%/2.5%/3%. If the receiving result of the team member is not BAD, Ginjima Yui's [Power Attack] increases by 15%. This effect lasts until the ball goes over the net four times."}, {nome:"A Powerful Blow",descricao:"Ginjima Yui will perform a powerful attack with a power of [Power Attack] × 225%/240%/255%/270%/285%. If Ginjima Yui is in the rear guard, the power of this powerful attack will increase by [Power Attack] × 30%."}], symbols: [ "img/powersymbol.png", "img/receivesymbol.png" ] },
{ nome: "Hoshiumi UR",data: "12/13/25", funcao: "WS", img: "img/hoshiumiUR.png", School: "Kamomedai", vinculo: ["Longtime Friends"],status:{Serve:1621,Spike:1704,Set:1341,Receive:1541,Block:1581,Save:1305}, habilidades:[{nome:"Break The Chain",descricao:"When Hoshiumi Korai is on the court and an ally blocks, for every 50 of the blocking team members [Block], the power of the opponent's spike (Power Attack/Quick Attack) is reduced by the spiking team members [Power Attack/Quick Attack] × 0.3%/0.4%/0.5% (maximum 30%). For every 1% decrease in the opponent's spike power, the power of Hoshiumi Korai's next skill is increased by 1%."}, {nome:"Great Performance In All Areas",descricao:"Hoshiumi Korai can activate multiple play skills. These skills share a cooldown.\nSpike Serve: Performs a spike serve with the power of [Serve] × 140%/160%/180%.\nReceive: Receives with the power of [Receive] × 140%/160%/180%.\nBlock: Blocks with the power of [Block] × 140%/160%/180%."}, {nome:"No 1 Point Getter",descricao:"Increases Hoshiumi Korai's [Power Attack] by 16%/20%/24%. When <All-Rounded Exploitation> is activated, gain one stack of [All-Rounder]. When Hoshiumi Korai's skill is activated, the [All-Rounder] effect is consumed, and different effects are activated depending on the play.\nPowerful Blow: Increases [Attention] by 14%/17%/20% until the ball goes over the net twice.\nServe: Reduces the opponent's back row player's [Receive] by 14%/17%/20% until the ball goes over the net twice."}, {nome:"Shining Spear",descricao:"Performs a powerful attack with a power of [Power Attack] × 265%/280%/295%/310%/325%. If in the front line, the power of this attack is increased by [Power Attack] × 40%/45%/50%/55%/60%."}], symbols: [ "img/powersymbol.png", "img/servesymbol.png", "img/blocksymbol.png", "img/receivesymbol.png" ] },
{ nome: "Hirugami UR",data: "12/28/25", funcao: "MB", img: "img/hirugamiUR.png", School: "Kamomedai", vinculo: ["Longtime Friends"],status:{Serve:1623,Spike:1536,Set:1535,Receive:1377,Block:1704,Save:1304}, habilidades:[{nome:"The Core Of The Kamomedai System",descricao:"When Hirugami Sachiro serves, his [Attention] increases by 12%/16%/20%. When he is on the court, allies gain one stack of the [System] effect when blocking. Each stack increases allies' main parameters by 8%, up to 5 stacks. Lasts until the ally scores. Each stack also increases Hirugami Sachiro's base stats by an additional 10%."}, {nome:"A Psychologically Pressing Serve",descricao:"Performs a jump floater serve with a power of 140%/160%/180% of his [Serve]. If this play is a nice play, the opponent's team morale awakening ends, preventing them from gaining team morale with one rally."}, {nome:"Defense Is The Best Attack",descricao:"When Hirugami Sachiro is on the court, gain one stack of the [Strong Block] effect each time the ball goes over the net. When an ally blocks, effects depend on the number of [Strong Block] stacks.\n2 stacks: Block power increases by 15%/20%/25% of the blocking members' [Block] until the ball goes over the net twice.\n3 stacks: Receive power increases by 15%/20%/25% of the receiving members' [Receive]."}, {nome:"The Immovable God of Day",descricao:"Blocks with a power of [Block] × 260%/275%/290%/305%/320%. If the opponent hits a powerful blow, the block's power increases by [Block] × 40%/45%/50%/55%/60%."}], symbols: [ "img/servesymbol.png", "img/blocksymbol.png" ] },
/* ==missing stats== */{ nome: "Hayaseiomi UR",data: "08/10/26", funcao: "WS", img: "img/hayaseiomiUR.png", School: "Itachiyama", vinculo: ["Top Spiker and Top Libero"],status:{Serve:1,Spike:1,Set:1,Receive:1,Block:1,Save:1}, habilidades:[{nome:"Persistent Attack",descricao:"Kiyoomi Sakusa's [Power Hit] increases by 10%/12.5%/15%, and his [Receive] increases by 20%/22%/25%. When he receives an attack, [Power Attack] increases by 6%, stacking up to 3 times, lasting until his next Power Attack. When he hits a Powerful Shot, [Receive] increases by 15% until his next receive."}, {nome:"Take All Precautions",descricao:"Performs a [Receive] ×1 receive with 50%/70%/90% power. If receiving exceeds [Receiving] × 170%, [Reaction] increases by 10% and <Preparedness> cooldown is reduced by 2× the ball crossings. If receiving exceeds [Receiving] × 200%, [Defensive Technique] increases by 15%. Lasts until the match ends."}, {nome:"Top Spiker",descricao:"When on the court, if allies perform a Nice Play (receive, cover, block), gain a stack of [Perfectionism]. Each stack increases [Receive] and [Power Hit] by 6%, up to 20 stacks. When hitting, [Consciousness] increases by 10% per stack. Lasts until the ball crosses the net twice."}, {nome:"Spikes that change trajectory by rotating",descricao:"Performs a [Power Hit] with power × 260%/280%/300%/320%/340%. If in the back row, power increases by [Power Hit] × 40%. If a Nice Play occurs, the opponent's next receive is reduced by [Receive] × 15%."}], symbols: [ "img/receivesymbol.png", "img/powersymbol.png" ] },
{ nome: "Komori UR",data: "09/09/26", funcao: "L", img: "img/komoriUR.png", School: "Itachiyama", vinculo: ["Top Spiker and Top Libero"],status:{Serve:1600,Spike:1600,Set:1720,Receive:2000,Block:1500,Save:1720}, habilidades:[{nome:"Key Person Of The Team",descricao:"When on the court, all allied backcourt players' [Defensive Technique] increases by 10%/13%/16%. Gains 6 stacks of [Connect to Next] at rally start; each stack increases [Set] by 3% and [Reaction] by 5%, up to 10 stacks."}, {nome:"Skillful Set",descricao:"Sets with power × 140%/160%/180% of [Set], increasing teammates' morale by 10. The first spike (Power Attack/Quick Attack) by an ally after this increases the spiker's [Attention] by 15% until the ball crosses the net twice."}, {nome:"Create The Flow Of The Game",descricao:"[Receive] increases by 12%/16%/20%. When an ally activates a non-special receive or Komori activates a receive special, consumes 2 stacks of [Connect to Next] to increase receive power by [Receive] × 30% and the first ally spike after this increases that spike's (Power Attack/Quick Attack) power by 20%."}, {nome:"Receive That Creates Momentum",descricao:"Receives with power × 260%/275%/290%/305%/320% of [Receive]. The first ally spike (Power Attack/Quick Attack) after this increases the spiker's [Attack Technique] by 20% until the ball crosses the net twice."}], symbols: [ "img/receivesymbol.png", "img/settersymbol.png" ] },

];

const descricoesSinergia = {
"Karasuno": "Increases ALL players’ Power Attack and Quick Attack stats by 10%",
"Nekoma": "Increases ALL players’ Receive stat by 15%",
"Dateko": "Increases ALL players’ Block stat by 15%",
"Aoba Johsai": "Increases ALL players’ Power Attack stat by 15%",
"Shiratorizawa": "Increases ALL players’ Awareness and Strength stats by 10%",
"Fukurodani": "Team Morale will increase by 20",
"Inarizaki": "Increases ALL players’ Strength and Defense stats by 5%",
"Eccentric Duo": "Increases Hinata and Kageyama’s quick attack power and Awareness.",
"Karasuno Geniuses": "Increases Nishinoya SP’s reflex and Receive. When Nishinoya uses his special move, Kageyama UR gains one stack of Competitive Spirit*. If his special is a perfect play, the power of the first Spike (Power Attack or Quick Attack) after that play is increased by 20% of the attacker’s power",
"Cherry Blossom Viewing": "Increases Kenma SP’s Awareness. Increases Hinata SP’s Quick Attack if it is a perfect play",
"Sun vs Moon": "no info",
"After School": "Increases Nishinoya SP’s reflex; when his stamina is low, increases it even more",
"Guardian God and Wing Spiker": "When Nishinoya SSR or Azumane SSR use a skill, both increase their Attack Technique and Defense Technique",
"Kiyoko Squad": "When scoring, increases Team Morale",
"Brain and Commander": "When Kenma SSR makes a pass, Kuro UR performs a strengthened Quick Attack",
"Educational Guidance": "Increases Yaku SSR’s Receive and Lev SSR’s Quick Attack",
"Swimming": "(Activates with 3 players) Increases team morale. When team morale is active, increases allies’ reflex in double or triple blocks",
"The Silent and the Sarcastic": "Allows Aone SSR and Futakuchi SSR to use the Double Block skill",
"The New Captain and the Tall Rookie": "Increases the Block of players in the front row",
"Perfect Harmony": "When Oikawa UR makes a pass, Iwaizumi SSR Spikes with increased Power Attack. Gains 2 stacks of Attack Rhythm*, each stack increases the team’s Awareness by 1%. Maximum of 10 stacks.",
"The Pack": "Increases Power Attack of Iwaizumi SSR and Kentaro SSR",
"Besties for Life": "Increases Ushijima UR’s Power Attack and Tendo SSR’s Defense Technique",
"Absolute Champion and Steady Setter": "When Shirabu SSR makes a pass, Ushijima UR Spikes with 10% more power",
"Shiratorizawa’s WS": "Increases Power Attack of ALL players present",
"Miracle Ace and Caring Setter": "Bokuto UR comes out of depression. When Akaashi SSR makes a pass and Bokuto UR Spikes, increases his Power Attack for that Spike by 20% and raises team morale by 15",
"Ace Miraculous and Caring Setter": "Increases Akaashi SP’s Passing. When team morale is active, increases Bokuto SP’s Power Attack by 18% and Akaashi SP’s Passing by 5%",
"Twin Power": "When Atsumu UR makes a pass and Osamu UR makes a Minus Tempo Quick Attack, increases the Quick Attack of that play. Increases Attack Technique by 15%. The attack cannot be blocked.",
"Twin Heads": "Increases Osamu UR’s Attack Technique. Increases Kita SSR’s stats. At the start of the match Atsumu gains 3 stacks of Perfect Hit*, each increasing his Passing by 2%. Max 10 stacks. Kita SSR gains a similar buff that increases his Receive. Max 3 stacks. The twins’ first Quick Attack per set is increased by Quick Attack × 12%",
"Longtime Friends": "Increases Hoshiumi UR’s stats. Increases Block for front-row players. Hoshiumi UR and Hirugami UR gain a buff (no info)",
"Top Spiker and Top Libero": "Sakusa UR increases his Power Attack. Komori UR increases his Receive. Increases allies’ Receive by 20%",
};

let selecionados = [];

/* ====== FUNÇÕES ORIGINAIS (mantidas) ====== */
function addBenchSlot() {
    const benchRow = document.getElementById("bench-row");
    const slot = document.createElement("div");
    slot.className = "player-slot bench";
    slot.innerHTML = `<div class="bench-slot" data-role="bench"></div><div class="player-info">Bench</div>`;
    benchRow.insertBefore(slot, benchRow.querySelector(".add-slot-btn"));
    attachBenchEvents(slot.querySelector(".bench-slot"));
}

function attachBenchEvents(slot) {
    slot.addEventListener("click", () => mostrarMenu("bench", slot));
    slot.addEventListener("contextmenu", (e) => {
        e.preventDefault();
        removerPersonagem(slot);
    });
}

function mostrarMenu(role, slot) {
    const scrollMenu = document.getElementById("scrollMenu");
    scrollMenu.innerHTML = '';
    let disponiveis;

    if (role === "bench") {
        disponiveis = personagens.filter(p => !selecionados.includes(p) && respeitaLimiteBench(p, slot));
    } else {
        disponiveis = personagens.filter(p => p.funcao === role && !selecionados.includes(p));
    }

    disponiveis.forEach(p => {
        const img = document.createElement('img');
        img.src = p.img;
        img.alt = p.nome;
        img.title = p.nome;
        img.addEventListener('click', (e) => {
            e.stopPropagation();
            setPersonagem(slot, p, role);
            scrollMenu.style.display = 'none';
        });
        scrollMenu.appendChild(img);
    });

    scrollMenu.style.display = 'flex';
}

function respeitaLimiteBench(p, slot) {
    const Bench = Array.from(document.querySelectorAll(".bench-slot"))
        .map(s => s.dataset.nome && personagens.find(x => x.nome === s.dataset.nome))
        .filter(Boolean);

    if (slot.dataset.nome === p.nome) return true;

    const contagem = Bench.reduce((acc, cur) => {
        acc[cur.funcao] = (acc[cur.funcao] || 0) + 1;
        return acc;
    }, {});

    if (p.funcao === "MB" && contagem["MB"] >= 2) return false;
    if (p.funcao === "WS" && contagem["WS"] >= 2) return false;
    if (["S", "L", "OP"].includes(p.funcao) && contagem[p.funcao] >= 1) return false;

    return true;
}

function setPersonagem(slot, personagem, role) {
    // se já tinha alguém nesse slot, remove dos selecionados
    if (slot.dataset.nome) {
        selecionados = selecionados.filter(p => p.nome !== slot.dataset.nome);
    }

    // monta imagem
    slot.innerHTML = `<img src="${personagem.img}" alt="${personagem.nome}">`;
    slot.dataset.nome = personagem.nome;

    // atualiza texto de info (procura .player-info no mesmo player-slot)
    const infoDiv = slot.parentElement.querySelector('.player-info');
    if (infoDiv) infoDiv.textContent = `${personagem.nome} - ${personagem.funcao}`;

    selecionados.push(personagem);
    atualizarSinergias();
}

function removerPersonagem(slot) {
    if (slot.dataset.nome) {
        selecionados = selecionados.filter(p => p.nome !== slot.dataset.nome);
        slot.innerHTML = ""; 
        delete slot.dataset.nome;

        const infoDiv = slot.parentElement.querySelector('.player-info');
        if (slot.classList.contains("bench-slot")) {
            infoDiv.textContent = "Bench";
        } else {
            // tenta recuperar role
            infoDiv.textContent = slot.dataset.role || slot.getAttribute("data-role") || slot.parentElement.querySelector('.hex')?.dataset.role || "";
        }

        atualizarSinergias();
    }
}

function atualizarSinergias() {
    const synergyListEl = document.getElementById("synergy-list");
    synergyListEl.innerHTML = "";

    const SchoolsCount = {};
    const vinculosCount = {};

    // Contagem de Schools (apenas titulares)
    document.querySelectorAll(".hex").forEach(slot => {
        if (slot.dataset.nome) {
            const p = personagens.find(x => x.nome === slot.dataset.nome);
            SchoolsCount[p.School] = (SchoolsCount[p.School] || 0) + 1;
        }
    });

    // Contagem de vínculos (titulares + banco)
    document.querySelectorAll(".hex, .bench-slot").forEach(slot => {
        if (slot.dataset.nome) {
            const p = personagens.find(x => x.nome === slot.dataset.nome);
            if (Array.isArray(p.vinculo)) {
                p.vinculo.forEach(v => {
                    vinculosCount[v] = (vinculosCount[v] || 0) + 1;
                });
            } else if (p.vinculo) {
                vinculosCount[p.vinculo] = (vinculosCount[p.vinculo] || 0) + 1;
            }
        }
    });

    let algumaSinergia = false;

    // === Sinergia de School (4 ou mais) ===
    for (const School in SchoolsCount) {
        if (SchoolsCount[School] >= 4) {
            synergyListEl.innerHTML += `
                <li>
                    <button class="school-btn" data-school="${School}">
                        School: ${School}
                    </button>
                </li>
            `;
            algumaSinergia = true;
        }
    }

    // === Sinergia de Bond (2 ou mais) ===
    for (const vinculo in vinculosCount) {
        if (vinculosCount[vinculo] >= 2) {
            synergyListEl.innerHTML += `
                <li>
                    <button class="synergy-btn" data-bond="${vinculo}">
                        ${vinculo}
                    </button>
                </li>
            `;
            algumaSinergia = true;
        }
    }

    // === Clique em School ===
    document.querySelectorAll(".school-btn").forEach(btn => {
    btn.addEventListener("click", (e) => {
        e.stopPropagation();
        const schoolName = btn.dataset.school;

        const relacionados = personagens.filter(pers => pers.School === schoolName);

        sidebarContent.innerHTML = `
            <h3>School: ${schoolName}</h3>
            <p>${descricoesSinergia[schoolName] || "Sem descrição disponível"}</p>
            <div class="char-list">
                ${relacionados.map(r => `
                    <div class="char-card" data-nome="${r.nome}">
                        <img src="${r.img}" alt="${r.nome}">
                        <p>${r.nome}</p>
                    </div>
                `).join('')}
            </div>
            <button id="backToSynergies">← Voltar</button>
        `;

        sidebar.classList.add("open");
        menuBtn.style.display = "none";

        document.getElementById("backToSynergies").addEventListener("click", (e) => {
            e.stopPropagation();
            atualizarSinergias();
            sidebar.classList.add("open");
            menuBtn.style.display = "none";
        });

        // 🔹 Aqui é onde precisamos aplicar a mesma lógica
        sidebarContent.querySelectorAll(".char-card").forEach(card => {
            card.addEventListener("click", (e) => {
                e.stopPropagation();
                const nome = card.dataset.nome;
                const personagem = personagens.find(x => x.nome === nome);
                mostrarDetalhesPersonagem(personagem);
                sidebar.classList.add("open"); // mantém o menu aberto
                menuBtn.style.display = "none";
            });
        });
    });
});

    // === Clique em Bond ===
    document.querySelectorAll(".synergy-btn").forEach(btn => {
        btn.addEventListener("click", (e) => {
            e.stopPropagation();
            const bondName = btn.dataset.bond;

            const relacionados = personagens.filter(pers => pers.vinculo.includes(bondName));

            sidebarContent.innerHTML = `
                <h3>Vínculo: ${bondName}</h3>
                <p>${descricoesSinergia[bondName] || "Sem descrição disponível"}</p>
                <div class="char-list">
                    ${relacionados.map(r => `
                        <div class="char-card" data-nome="${r.nome}">
                            <img src="${r.img}" alt="${r.nome}">
                            <p>${r.nome}</p>
                        </div>
                    `).join('')}
                </div>
                <button id="backToSynergies">← Voltar</button>
            `;

            sidebar.classList.add("open");
            menuBtn.style.display = "none";

            document.getElementById("backToSynergies").addEventListener("click", (e) => {
                e.stopPropagation();
                atualizarSinergias();
                sidebar.classList.add("open");
                menuBtn.style.display = "none";
            });

            sidebarContent.querySelectorAll(".char-card").forEach(card => {
                card.addEventListener("click", (e) => {
                    e.stopPropagation();
                    const nome = card.dataset.nome;
                    const personagem = personagens.find(x => x.nome === nome);
                    mostrarDetalhesPersonagem(personagem);
                });
            });
        });
    });

    if (!algumaSinergia) {
        synergyListEl.innerHTML = "<li>No active synergies</li>";
    }
}

/* ====== Eventos iniciais ====== */
document.querySelectorAll(".hex").forEach(slot => {
    slot.addEventListener("click", (e) => {
        e.stopPropagation();
        mostrarMenu(slot.dataset.role, slot);
    });
    slot.addEventListener("contextmenu", (e) => {
        e.preventDefault();
        removerPersonagem(slot);
    });
});

document.querySelectorAll(".bench-slot").forEach(slot => attachBenchEvents(slot));

/* ====== SIDEBAR NAV ====== */
const sidebarContent = document.getElementById("sidebar-content");
document.querySelectorAll(".menu-link").forEach(btn => {
    btn.addEventListener("click", (e) => {
        e.stopPropagation();
        const section = btn.dataset.section;
        if (section === "characters") {
            mostrarListaPersonagens();
        } else if (section === "save") {
            showSavedTeams();
        } else if (section === "help") {
    sidebarContent.innerHTML = `
        <h3>Ajuda</h3>
        <div style="display:flex; flex-direction:column; gap:10px;">
            <button id="faqBtn" class="bond-btn">📄 FAQ</button>
            <button id="creditosBtn" class="bond-btn">👥 Créditos</button>
        </div>
    `;

    // Botão FAQ
    document.getElementById("faqBtn").addEventListener("click", (e) => {
        e.stopPropagation();
        sidebarContent.innerHTML = `
            <h3>FAQ</h3>
            <p>Aqui vai o conteúdo do FAQ...</p>
            <button id="backToHelp" class="bond-btn">← Voltar</button>
        `;
        document.getElementById("backToHelp").addEventListener("click", (e) => {
            e.stopPropagation();
            document.querySelector('.menu-link[data-section="help"]').click();
            sidebar.classList.add("open");
            menuBtn.style.display = "none";
        });
    });

    // Botão Créditos
    document.getElementById("creditosBtn").addEventListener("click", (e) => {
        e.stopPropagation();
        sidebarContent.innerHTML = `
            <h3>Créditos</h3>
            <p>Aqui você coloca os créditos do projeto...</p>
            <button id="backToHelp" class="bond-btn">← Voltar</button>
        `;
        document.getElementById("backToHelp").addEventListener("click", (e) => {
            e.stopPropagation();
            document.querySelector('.menu-link[data-section="help"]').click();
            sidebar.classList.add("open");
            menuBtn.style.display = "none";
        });
    });
}
    });
});

/* ====== LISTA / FILTROS DE PERSONAGENS (mantida com stopPropagation nos clicks) ====== */
function mostrarListaPersonagens() {
    const funcoes = [...new Set(personagens.map(p => p.funcao))];
    const escolas = [...new Set(personagens.map(p => p.School))];
    const statusKeys = [...new Set(personagens.flatMap(p => Object.keys(p.status || {})))];

    let html = `
    <h3>Lista de Personagens</h3>
    <div class="filtros">
        <div>
            <label>Posição:</label>
            <select id="filtroFuncao">
                <option value="">Todos</option>
                ${funcoes.map(f => `<option value="${f}">${f}</option>`).join('')}
            </select>
        </div>
        <div>
            <label>Escola:</label>
            <select id="filtroEscola">
                <option value="">Todos</option>
                ${escolas.map(e => `<option value="${e}">${e}</option>`).join('')}
            </select>
        </div>
        <div>
            <label>Status:</label>
            <select id="filtroStatus">
                <option value="">Todos</option>
                ${statusKeys.map(s => `<option value="${s}">${s}</option>`).join('')}
            </select>
        </div>
                <div>
            <label>Data (ordem):</label>
            <select id="filtroDataOrdem" title="Ordenar pela data (ignora quem não tem data)">
                <option value="">Ignorar</option>
                <option value="asc">Crescente (MM/DD/YY)</option>
                <option value="desc">Decrescente (MM/DD/YY)</option>
            </select>
        </div>
<button id="limparFiltros">Limpar</button>
    </div>
<div class='char-list' id="charList"></div>
    `;

    sidebarContent.innerHTML = html;

    // Helpers de data (MM/DD/YY)
    function parseDateMMDDYY(s) {
        if (typeof s !== "string") return null;
        const m = s.match(/^(\d{2})\/(\d{2})\/(\d{2})$/);
        if (!m) return null;
        const mm = parseInt(m[1], 10), dd = parseInt(m[2], 10), yy = 2000 + parseInt(m[3], 10);
        const d = new Date(yy, mm - 1, dd);
        return Number.isNaN(d.getTime()) ? null : d;
    }
    function hasValidDate(p) {
        return !!parseDateMMDDYY(p?.data);
    }

function getStatusSafe(p, key) {
  const v = p?.status?.[key];
  return (typeof v === "number") ? v : "-";
}


   function renderLista() {
  const listaEl   = document.getElementById("charList");

  const funcaoSel = (document.getElementById("filtroFuncao").value || "").trim();
  const escolaSel = (document.getElementById("filtroEscola").value || "").trim();
  let   statusSel = (document.getElementById("filtroStatus").value || "").trim();
  const dataOrdem = (document.getElementById("filtroDataOrdem")?.value || "").trim();

  if (statusSel.toLowerCase() === "todos") statusSel = "";

  // 1) filtro base
  let filtrados = personagens.filter(p =>
    (funcaoSel === "" || p.funcao === funcaoSel) &&
    (escolaSel === "" || p.School === escolaSel)
  );

  // 2) ordenar por data quando escolhido (e ignorar sem data)
  if (dataOrdem === "asc" || dataOrdem === "desc") {
    filtrados = filtrados
      .filter(hasValidDate)
      .sort((a, b) => {
        const da = parseDateMMDDYY(a.data);
        const db = parseDateMMDDYY(b.data);
        return dataOrdem === "asc" ? (da - db) : (db - da);
      });
  } else if (statusSel) {
    // 3) ordenar por status quando data está em "Ignorar"
    filtrados.sort((a, b) => {
      const bv = (b.status && typeof b.status[statusSel] === "number") ? b.status[statusSel] : -Infinity;
      const av = (a.status && typeof a.status[statusSel] === "number") ? a.status[statusSel] : -Infinity;
      return bv - av;
    });
  }

  // 4) render (agora em <li>)
  const html = filtrados.map((p, i) => {
    const metaLine =
      (dataOrdem === "asc" || dataOrdem === "desc")
        ? (hasValidDate(p) ? `<div class="card-sub">EDD: ${p.data}</div>` : "")
        : (statusSel ? `<div class="card-sub">${statusSel}: ${getStatusSafe(p, statusSel)}</div>` : "");

    return `
      <li class="person-card" data-idx="${i}">
        <img src="${p.img}" alt="${p.nome}">
        <div class="card-name">${p.nome}</div>
        ${metaLine}
      </li>
    `;
  }).join("");

  listaEl.innerHTML = html;

  // 5) clique abre detalhes
  listaEl.querySelectorAll(".person-card").forEach(card => {
    card.addEventListener("click", () => {
      const idx = +card.getAttribute("data-idx");
      const person = filtrados[idx];
      if (person) mostrarDetalhesPersonagem(person);
    });
  });
}

    document.getElementById("filtroFuncao").addEventListener("change", renderLista);
    document.getElementById("filtroEscola").addEventListener("change", renderLista);
    document.getElementById("filtroStatus").addEventListener("change", renderLista);
    document.getElementById("filtroDataOrdem").addEventListener("change", renderLista); // NOVO

    document.getElementById("limparFiltros").addEventListener("click", () => {
  document.getElementById("filtroFuncao").value = "";
  document.getElementById("filtroEscola").value = "";
  document.getElementById("filtroStatus").value = "";
  const selData = document.getElementById("filtroDataOrdem"); // NOVO
  if (selData) selData.value = "";                             // NOVO
  renderLista();
});

    renderLista();
}

function mostrarDetalhesPersonagem(p) {
    sidebarContent.innerHTML = `
        <h3>${p.nome}</h3>
        <img src="${p.img}" alt="${p.nome}" style="width:100%;">
        ${p.symbols && p.symbols.length > 0 ? `
            <div class="person-symbols">
                ${p.symbols.map(sym => `<img src="${sym}" class="symbol-icon">`).join('')}
            </div>
        ` : ""}
        ${p.data ? `<p><b>EDD:</b> ${p.data}</p>` : ""}
        <p><b>Função:</b> ${p.funcao}</p>
        <p><b>Escola:</b> ${p.School}</p>

        <h4>Status</h4>
        <ul>
            <li><b>Serve:</b> ${p.status.Serve}</li>
            <li><b>Spike:</b> ${p.status.Spike}</li>
            <li><b>Set:</b> ${p.status.Set}</li>
            <li><b>Receive:</b> ${p.status.Receive}</li>
            <li><b>Block:</b> ${p.status.Block}</li>
            <li><b>Save:</b> ${p.status.Save}</li>
        </ul>

        <h4>Habilidades</h4>
        <ul>
            ${p.habilidades.map(h => `<li><button class="skill-btn" data-skill="${h.nome}">${h.nome}</button></li>`).join("")}
        </ul>

        <p><b>Vínculos:</b></p>
        <ul>
            ${p.vinculo.map(v => `<li><button class="bond-btn" data-bond="${v}">${v}</button></li>`).join('')}
        </ul>
        <button id="backToList">← Voltar</button>
    `;

    document.getElementById("backToList").addEventListener("click", (e) => {
        e.stopPropagation();
        mostrarListaPersonagens();
    });

    // Eventos de clique para cada vínculo
    sidebarContent.querySelectorAll(".bond-btn").forEach(btn => {
        btn.addEventListener("click", (e) => {
    e.stopPropagation();
    const bondName = btn.dataset.bond;

    const relacionados = personagens.filter(pers => pers.vinculo.includes(bondName));

    sidebarContent.innerHTML = `
        <h3>Vínculo: ${bondName}</h3>
        <p>${descricoesSinergia[bondName] || "Sem descrição disponível"}</p>
        <div class="char-list">
            ${relacionados.map(r => `
                <div class="char-card" data-nome="${r.nome}">
                    <img src="${r.img}" alt="${r.nome}">
                    <p>${r.nome}</p>
                </div>
            `).join('')}
        </div>
        <button id="backToSynergies">← Voltar</button>
    `;

    // ABRIR o menu lateral
    sidebar.classList.add("open");
    menuBtn.style.display = "none";

    // Voltar para a lista de synergies
    document.getElementById("backToSynergies").addEventListener("click", (e) => {
        e.stopPropagation();
        mostrarDetalhesPersonagem(p);
    });

    // Clique nos personagens
    sidebarContent.querySelectorAll(".char-card").forEach(card => {
        card.addEventListener("click", () => {
            const nome = card.dataset.nome;
            const personagem = personagens.find(x => x.nome === nome);
            mostrarDetalhesPersonagem(personagem);
        });
    });
});
    });

    // Evento das habilidades (igual vínculo, mas com descrição própria)
    sidebarContent.querySelectorAll(".skill-btn").forEach(btn => {
        btn.addEventListener("click", (e) => {
            e.stopPropagation();
            const skillName = btn.dataset.skill;
            const habilidade = p.habilidades.find(h => h.nome === skillName);

            sidebarContent.innerHTML = `
                <h3>Habilidade: ${habilidade.nome}</h3>
                <p>${habilidade.descricao}</p>
                <button id="backToChar">← Voltar</button>
            `;
            document.getElementById("backToChar").addEventListener("click", (e) => {
                e.stopPropagation();
                mostrarDetalhesPersonagem(p);
            });
        });
    });
}

/* ====== SALVAR / CARREGAR TIMES (localStorage) ====== */

// pega composição atual por NOME do personagem (não por src)
function getCurrentTeamByName() {
    // titulares: procuramos .hex dentro de .player-slot (apenas as hex)
    const mainHexes = Array.from(document.querySelectorAll(".hex"));
    const main = mainHexes.map(h => h.dataset.nome || null);

    // bench: cada .bench-slot
    const benches = Array.from(document.querySelectorAll(".bench-slot"));
    const benchNames = benches.map(b => b.dataset.nome || null);

    return { main, bench: benchNames };
}

const saveTeamBtn = document.getElementById("saveTeamBtn");
saveTeamBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    const teamName = prompt("Digite o nome do time:");
    if (!teamName) return;

    let teams = JSON.parse(localStorage.getItem("savedTeams") || "{}");

    if (teams[teamName]) {
        if (!confirm(`O time "${teamName}" já existe. Deseja substituir?`)) {
            return;
        }
    }

    teams[teamName] = getCurrentTeamByName();
    localStorage.setItem("savedTeams", JSON.stringify(teams));
    alert(`Time "${teamName}" salvo com sucesso!`);
    
    showSavedTeams();
    sidebar.classList.add("open");
    menuBtn.style.display = "none";
});

/* mostra lista de times salvos no painel lateral */
function showSavedTeams() {
    const teams = JSON.parse(localStorage.getItem("savedTeams") || "{}");
    let html = "<h3>Times Salvos</h3>";

    if (Object.keys(teams).length === 0) {
        html += "<p>Nenhum time salvo.</p>";
    } else {
        html += `<div class="saved-list">`;
        for (const [name, team] of Object.entries(teams)) {
            html += `
                <div style="margin-bottom:8px; display:flex; align-items:center; justify-content:space-between;">
                    <div style="text-align:left;">
                        <b>${name}</b>
                    </div>
                    <div>
                        <button class="load-btn" data-name="${name}">Carregar</button>
                        <button class="del-btn" data-name="${name}">Excluir</button>
                    </div>
                </div>
            `;
        }
        html += `</div>`;
    }

    sidebarContent.innerHTML = html;

    document.querySelectorAll(".load-btn").forEach(btn => {
        btn.addEventListener("click", (e) => {
        e.stopPropagation();
        const name = btn.dataset.name;
        loadTeam(name);

        // Atualiza sinergias e mantém menu aberto na lista
        atualizarSinergias();
        sidebar.classList.add("open");
        menuBtn.style.display = "none";
        });
    });

    document.querySelectorAll(".del-btn").forEach(btn => {
        btn.addEventListener("click", (e) => {
            e.stopPropagation();
            const name = btn.dataset.name;
            if (confirm(`Excluir o time "${name}"?`)) {
                deleteTeam(name);
                showSavedTeams();
            }
        });
    });
}

function deleteTeam(name) {
    let teams = JSON.parse(localStorage.getItem("savedTeams") || "{}");
    delete teams[name];
    localStorage.setItem("savedTeams", JSON.stringify(teams));
}

/* Carrega time — monta usando setPersonagem (assim datas e selected array ficam corretos) */
function loadTeam(name) {
    const teams = JSON.parse(localStorage.getItem("savedTeams") || "{}");
    const team = teams[name];
    if (!team) return;

    selecionados = [];

    document.querySelectorAll(".hex, .bench-slot").forEach(slot => {
        slot.innerHTML = "";
        delete slot.dataset.nome;
        const infoDiv = slot.parentElement.querySelector('.player-info');
        if (infoDiv) {
            if (slot.classList.contains("bench-slot")) infoDiv.textContent = "Bench";
            else infoDiv.textContent = slot.dataset.role || slot.getAttribute("data-role") || "";
        }
    });

    const hexes = Array.from(document.querySelectorAll(".hex"));
    team.main.forEach((nome, i) => {
        if (!nome) return;
        const personagem = personagens.find(p => p.nome === nome);
        if (personagem && hexes[i]) {
            setPersonagem(hexes[i], personagem, hexes[i].dataset.role || hexes[i].getAttribute("data-role"));
        }
    });

    const benches = Array.from(document.querySelectorAll(".bench-slot"));
    team.bench.forEach((nome, i) => {
        if (!nome) return;
        const personagem = personagens.find(p => p.nome === nome);
        if (personagem && benches[i]) {
            setPersonagem(benches[i], personagem, 'bench');
            attachBenchEvents(benches[i]);
        }
    });

    // atualizar sinergias após carregar
    atualizarSinergias();
}

/* ====== ABRIR / FECHAR MENU ====== */
const menuBtn = document.getElementById("menuBtn");
const sidebar = document.getElementById("sidebar");
const closeSidebar = document.getElementById("closeSidebar");

menuBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    sidebar.classList.add("open");
    menuBtn.style.display = "none";
});

closeSidebar.addEventListener("click", (e) => {
    e.stopPropagation();
    sidebar.classList.remove("open");
    menuBtn.style.display = "block";
});

// Fecha se clicar fora do painel (ignora se clicar dentro)
document.addEventListener("click", (e) => {
    // Clique dentro do sidebar ou no botão de abrir → não fecha
    if (sidebar.contains(e.target) || e.target === menuBtn) {
        return;
    }

    // Clique num personagem → não fecha
    if (e.target.closest(".char-card")) {
        return;
    }

    // Clique em botões de voltar (FAQ, Créditos, Synergies, Detalhes) → não fecha
    if (
        e.target.closest("#backToHelp") ||
        e.target.closest("#backToSynergies") ||
        e.target.closest("#backToChar")
    ) {
        return;
    }

    // Fecha apenas se realmente foi fora
    if (sidebar.classList.contains("open")) {
        sidebar.classList.remove("open");
        menuBtn.style.display = "block";
    }
});
    // Botão para limpar todo o time e resetar o banco
document.getElementById("clearTeamBtn").addEventListener("click", (e) => {
    e.stopPropagation();
    if (!confirm("Tem certeza que deseja remover todos os personagens e resetar o banco?")) return;

    // Fecha o menu lateral se estiver aberto
    sidebar.classList.remove("open");
    menuBtn.style.display = "block";

    // Limpa seleção
    selecionados = [];

    // Reseta todos os slots principais
    document.querySelectorAll(".hex").forEach(slot => {
        slot.innerHTML = "";
        delete slot.dataset.nome;
        const infoDiv = slot.parentElement.querySelector('.player-info');
        infoDiv.textContent = slot.dataset.role || slot.getAttribute("data-role") || "";
    });

    // Reseta banco para 3 slots
    const benchRow = document.getElementById("bench-row");
    benchRow.querySelectorAll(".player-slot.bench").forEach((benchSlot, index) => {
        if (index >= 3) {
            benchSlot.remove();
        } else {
            const slot = benchSlot.querySelector(".bench-slot");
            slot.innerHTML = "";
            delete slot.dataset.nome;
            const infoDiv = benchSlot.querySelector('.player-info');
            infoDiv.textContent = "Bench";
        }
    });
    atualizarSinergias();
    });

</script>

</body>
</html>
